(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+WgK":function(e,t,r){"use strict";r.r(t),r.d(t,"history",(function(){return a}));var n=r("LhCv");const a=Object(n.a)()},"1HUD":function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BandModButtonGroup=void 0;var s=o(r("q1tI")),u=o(r("QKck")),i=o(r("hlKo")),l=r("X13+"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={modValue:t.props.modPerformed},t}return a(t,e),t.prototype.componentDidUpdate=function(e,t){this.state.modValue!=t.modValue&&(0==this.state.modValue?this.props.modifyBand&&this.props.modifyBand(0,t.modValue):this.props.modifyBand&&this.props.modifyBand(this.state.modValue))},t.prototype.render=function(){var e=this,t=this.props,r=t.userIsAuthorized,n=t.modPerformed;return s.default.createElement(u.default,{name:"modButtons",value:this.state.modValue,onChange:function(t){return e.setState({modValue:e.state.modValue+t})}},s.default.createElement(i.default,{name:"negativeButton",value:-1,disabled:!r,checked:-1==n},-1==this.state.modValue?s.default.createElement(l.BsCaretDownFill,null):s.default.createElement(l.BsCaretDown,null)),s.default.createElement(i.default,{name:"positiveButton",value:1,disabled:!r,checked:1==n},1==this.state.modValue?s.default.createElement(l.BsCaretUpFill,null):s.default.createElement(l.BsCaretUp,null)))},t}(s.default.Component);t.BandModButtonGroup=c},"4tJo":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userProfileActions=void 0;var n=r("i7Pf"),a=r("7Fo/"),o={fetchStatus:a.ProfileFetchStatuses.NOT_TRYING,profile:void 0},s=n.createSlice({name:"userProfile",initialState:o,reducers:{requestFetchUserProfile:function(e,t){e.fetchStatus=a.ProfileFetchStatuses.ATTEMPTING},fetchUserProfileSuccess:function(e,t){e.fetchStatus=a.ProfileFetchStatuses.SUCCESS,e.profile=t.payload.profile},fetchUserProfileFailure:function(e){e.fetchStatus=a.ProfileFetchStatuses.FAILURE,e.profile=void 0}}});t.userProfileActions=s.actions,t.default=s.reducer},"6pyq":function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,a++)n[a]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.sortAndLimitUserRecords=void 0;var a=r("7Fo/");t.sortAndLimitUserRecords=function(e,t,r){var o=n(e);switch(t){case a.UserRecordSortTypes.HIGHEST_AVERAGE_SCORE:o.sort((function(e,t){return t.averageScore-e.averageScore}));break;case a.UserRecordSortTypes.HIGHEST_SCORE:o.sort((function(e,t){return t.totalScore-e.totalScore}));break;case a.UserRecordSortTypes.MOST_NAMES_CONTRIBUTED:o.sort((function(e,t){return t.namesContributed-e.namesContributed}))}return o=o.slice(0,r)}},"7Fo/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserCreationStatuses=t.AuthenticationStatuses=t.ProfileFetchStatuses=t.BandScoreModificationStatuses=t.BandSortTypes=t.BandCreationStatuses=t.UserRecordSortTypes=void 0,function(e){e[e.HIGHEST_SCORE=0]="HIGHEST_SCORE",e[e.HIGHEST_AVERAGE_SCORE=1]="HIGHEST_AVERAGE_SCORE",e[e.MOST_NAMES_CONTRIBUTED=2]="MOST_NAMES_CONTRIBUTED"}(t.UserRecordSortTypes||(t.UserRecordSortTypes={})),function(e){e[e.CREATING=0]="CREATING",e[e.CREATED=1]="CREATED",e[e.ERROR=2]="ERROR",e[e.BAND_EXISTS=3]="BAND_EXISTS",e[e.NOT_TRYING=4]="NOT_TRYING"}(t.BandCreationStatuses||(t.BandCreationStatuses={})),function(e){e[e.BEST=0]="BEST",e[e.WORST=1]="WORST",e[e.MOST_RECENT=2]="MOST_RECENT"}(t.BandSortTypes||(t.BandSortTypes={})),function(e){e[e.ATTEMPTING=0]="ATTEMPTING",e[e.SUCCESS=1]="SUCCESS",e[e.FAILURE=2]="FAILURE",e[e.NOT_TRYING=3]="NOT_TRYING"}(t.BandScoreModificationStatuses||(t.BandScoreModificationStatuses={})),function(e){e[e.ATTEMPTING=0]="ATTEMPTING",e[e.SUCCESS=1]="SUCCESS",e[e.FAILURE=2]="FAILURE",e[e.NOT_TRYING=3]="NOT_TRYING"}(t.ProfileFetchStatuses||(t.ProfileFetchStatuses={})),function(e){e[e.AUTHENTICATING=0]="AUTHENTICATING",e[e.AUTHENTICATED=1]="AUTHENTICATED",e[e.NOT_AUTHENTICATED=2]="NOT_AUTHENTICATED",e[e.NOT_TRYING=3]="NOT_TRYING",e[e.SERVER_ERROR=4]="SERVER_ERROR",e[e.USERNAME_NOT_FOUND=5]="USERNAME_NOT_FOUND",e[e.INVALID_PASSWORD=6]="INVALID_PASSWORD",e[e.LOGGING_OUT=7]="LOGGING_OUT"}(t.AuthenticationStatuses||(t.AuthenticationStatuses={})),function(e){e[e.PROCESSING=0]="PROCESSING",e[e.PASSWORDS_DONT_MATCH=1]="PASSWORDS_DONT_MATCH",e[e.USERNAME_TAKEN=2]="USERNAME_TAKEN",e[e.NOT_TRYING=3]="NOT_TRYING",e[e.SERVER_ERROR=4]="SERVER_ERROR",e[e.SUCCESS=5]="SUCCESS",e[e.EMPTY_FIELDS=6]="EMPTY_FIELDS",e[e.INVALID_EMAIL=7]="INVALID_EMAIL",e[e.EMAIL_TAKEN=8]="EMAIL_TAKEN"}(t.UserCreationStatuses||(t.UserCreationStatuses={}))},"7Zh8":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__generator||function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.bandCreationSaga=void 0;var i=r("5rFJ"),l=u(r("vDqi")),c=o(r("VYM/")),d=r("Xep1");t.bandCreationSaga=function(){var e,t,r,n,a,o,u,f;return s(this,(function(s){switch(s.label){case 0:return[4,i.take(d.bandActions.requestCreateBand.type)];case 1:return e=s.sent().payload,console.log("Saga payload: ",e),t=e.creatingUserId,r=e.bandName,n=e.creatingUsername,a={bandName:r,ownerId:t,ownerName:n},[4,i.call(l.default.post,c.serverUrl+c.newBand,a)];case 2:o=s.sent(),s.label=3;case 3:if(s.trys.push([3,5,,7]),200!=o.status)throw new Error;return u=o.newBand,[4,i.put(d.bandActions.createBandSuccess(u))];case 4:return s.sent(),[3,7];case 5:return s.sent(),f=o.data.reason,[4,i.put(d.bandActions.createBandFailure(f))];case 6:return s.sent(),[3,7];case 7:return[3,0];case 8:return[2]}}))}},"7hBq":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Navigation=void 0;var a=n(r("q1tI")),o=n(r("+YzT")),s=n(r("6ctO")),u=r("/MKj"),i=r("7Fo/"),l=r("+Tvs"),c=r("fqsA"),d=function(e){var t=e.session;return{authenticationStatus:t.authenticationStatus,username:t.username}};function f(e){return{logout:function(){e(c.sessionActions.requestLogout())}}}u.connect(d,f);t.Navigation=u.connect(d,f)((function(e){return a.default.createElement(s.default,{bg:"light",className:"mb-3"},a.default.createElement(l.LinkContainer,{to:"/"},a.default.createElement(s.default.Brand,null,"wababc?")),e.authenticationStatus==i.AuthenticationStatuses.AUTHENTICATED?a.default.createElement(a.default.Fragment,null,a.default.createElement(o.default.Item,null,"Signed in as ",e.username),a.default.createElement(o.default.Link,{onClick:function(){return e.logout()}},"Logout")):a.default.createElement(l.LinkContainer,{to:"/login"},a.default.createElement(o.default.Link,null,"Login")))}))},AEI1:function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateBandForm=void 0;var s=o(r("q1tI")),u=r("/MKj"),i=r("Xep1"),l=o(r("zUrK")),c=o(r("jDKy")),d=o(r("cWnB")),f=o(r("TUci")),p=r("7Fo/"),h=r("+Tvs"),m=function(){return s.default.createElement(f.default,{variant:"danger"},s.default.createElement(f.default.Heading,null,"This MF said “ ”"),s.default.createElement("p",null,"Who are you? John Cage XD? Just kidding, don't know who that is."))};function y(){return s.default.createElement(f.default,{variant:"danger"},s.default.createElement(f.default.Heading,null,"Somebody already thought of that!"),s.default.createElement("p",null,"Going to have to try harder. Maybe read a very complicated book and then think of some reference to that."))}function _(){return s.default.createElement(f.default,{variant:"warning"},s.default.createElement(f.default.Heading,null,"You've gotta be signed in!"),s.default.createElement("p",null,"We don't let just anyone in here. You can"," ",s.default.createElement(h.LinkContainer,{to:"/new-user"},s.default.createElement(f.default.Link,null,"make an account here")),", though, if you want."))}function S(){return s.default.createElement(f.default,{variant:"success"},s.default.createElement(f.default.Heading,null,"Name submitted!"),s.default.createElement("p",null,"Now that's funny."))}function v(e){return{authenticationStatus:e.session.authenticationStatus,userId:e.session.userId,username:e.session.username}}function b(e){return{createBand:function(t,r,n){e(i.bandActions.requestCreateBand({creatingUserId:t,creatingUsername:r,bandName:n}))}}}u.connect(v,b);var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bandName:"",displayBandExistsAlert:!1,displayUserNotLoggedIn:!1,displayNoNameAlert:!1,displayProgess:!1,displaySuccess:!1},t}return a(t,e),t.prototype.handleClick=function(){this.props.authenticationStatus==p.AuthenticationStatuses.AUTHENTICATED?""==this.state.bandName?this.setState({displayBandExistsAlert:!1,displayUserNotLoggedIn:!1,displayNoNameAlert:!0}):(this.props.createBand(this.props.userId,this.props.username,this.state.bandName),this.setState({displayBandExistsAlert:!1,displayUserNotLoggedIn:!1,displayNoNameAlert:!1,displayProgess:!1,displaySuccess:!0})):this.setState({displayBandExistsAlert:!1,displayUserNotLoggedIn:!0,displayNoNameAlert:!1})},t.prototype.render=function(){var e=this,t=this.state,r=t.displayBandExistsAlert,n=t.displayNoNameAlert,a=(t.displayProgess,t.displayUserNotLoggedIn),o=t.displaySuccess;return s.default.createElement("div",{className:"mb-3"},s.default.createElement(l.default,{size:"lg"},s.default.createElement(c.default,{type:"text",placeholder:"What about a band called...",onChange:function(t){return e.setState({bandName:t.target.value})}}),s.default.createElement(l.default.Append,null,s.default.createElement(d.default,{variant:"primary",onClick:function(){return e.handleClick()}},"Submit"))),a?s.default.createElement(_,null):null,n?s.default.createElement(m,null):null,r?s.default.createElement(y,null):null,o?s.default.createElement(S,null):null)},t}(s.default.Component);t.CreateBandForm=u.connect(v,b)(E)},KiFf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeSince=void 0;t.getTimeSince=function(e){var t=Date.now()-e.getMilliseconds();if(t<6e4)return"1m";if(t<36e5)return(r=Math.floor(t/6e4))+"m";if(t<864e5){var r,n=Math.floor(t/36e5)+"h";return(r=Math.floor(t%36e5/6e4))>0&&(n+=" "+r+"m"),n}if(t<31536e6)return Math.floor(t/864e5)+"d";var a=Math.floor(t/31536e6),o=Math.floor(t%31536e6/864e5),s=a+"y";return o>0&&(s+=" "+o+"d"),s}},NL3p:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__generator||function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBands=t.watchFetchBandsSaga=void 0;var i=u(r("vDqi")),l=r("5rFJ"),c=o(r("VYM/")),d=r("Xep1");function f(e,t){var r;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,5]),[4,l.call(i.default.post,c.serverUrl+c.postBands,{maxBands:e,sortBy:t})];case 1:if(200!=(r=n.sent()).status)throw new Error;return[4,l.put(d.bandActions.fetchBandsSuccess(r.data))];case 2:return n.sent(),[3,5];case 3:return n.sent(),[4,l.put(d.bandActions.fetchBandsFailure())];case 4:return n.sent(),[3,5];case 5:return[2]}}))}t.watchFetchBandsSaga=function(){var e,t,r,n;return s(this,(function(a){switch(a.label){case 0:return[4,l.actionChannel(d.bandActions.requestFetchBands.type)];case 1:e=a.sent(),a.label=2;case 2:return[4,l.take(e)];case 3:return t=a.sent().payload,r=t.maxBands,n=t.sortBy,[4,l.call(f,r,n)];case 4:return a.sent(),[3,2];case 5:return[2]}}))},t.fetchBands=f},O5yZ:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__generator||function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.userAuthenticationSaga=void 0;var i=u(r("vDqi")),l=r("5rFJ"),c=o(r("VYM/")),d=r("fqsA");t.userAuthenticationSaga=function(){var e,t,r,n,a,o,u,f;return s(this,(function(s){switch(s.label){case 0:return[4,l.take(d.sessionActions.requestAuthenticateUser.type)];case 1:e=s.sent().payload,t=e.username,r=e.password,s.label=2;case 2:return s.trys.push([2,6,,10]),[4,l.call(i.default.post,c.serverUrl+c.authenticate,{username:t,password:r})];case 3:return n=s.sent(),a=n.data,o=a.userId,u=a.bandsModified,console.log("bandsModified in userAuthenticationSaga: ",u),200!=n.status?[3,5]:[4,l.put(d.sessionActions.authenticateUserSuccess({userId:o,username:t,bandsModified:u}))];case 4:s.sent(),s.label=5;case 5:return[3,10];case 6:return(f=s.sent()).response?[4,l.put(d.sessionActions.authenticateUserFailure({reason:f.response.data.reason}))]:[3,8];case 7:return s.sent(),[3,9];case 8:console.error(f),s.label=9;case 9:return[3,10];case 10:return[3,0];case 11:return[2]}}))}},OEB8:function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NewUserForm=t.UnconnectedNewUserForm=void 0;var s=o(r("q1tI")),u=o(r("cWnB")),i=o(r("7vrA")),l=o(r("6xyR")),c=o(r("TUci")),d=o(r("QojX")),f=r("/MKj"),p=r("7Fo/"),h=r("fqsA"),m=o(r("T/rR")),y=function(e){return{userCreationStatus:e.session.userCreationStatus}},_=function(e){return{submitForm:function(t,r,n){return e(h.sessionActions.requestCreateUser({username:t,password:r,repeatPassword:n}))}}},S=(f.connect(y,_),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={email:"",username:"",password:"",repeatPassword:""},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.userCreationStatus;return s.default.createElement(i.default,null,s.default.createElement(l.default,{style:{maxWidth:"36rem"},className:"mx-auto"},s.default.createElement(l.default.Body,null,s.default.createElement(d.default,null,s.default.createElement(d.default.Group,{controlId:"formNewUserName"},s.default.createElement(d.default.Label,null,"Username"),s.default.createElement(d.default.Control,{type:"text",onChange:function(t){return e.setState({username:t.target.value})},isInvalid:this.props.userCreationStatus==p.UserCreationStatuses.USERNAME_TAKEN}),s.default.createElement(d.default.Control.Feedback,{type:"invalid"},"Username is already taken.")),s.default.createElement(d.default.Group,{controlId:"formNewUserPassword"},s.default.createElement(d.default.Label,null,"Password"),s.default.createElement(d.default.Control,{type:"password",onChange:function(t){return e.setState({password:t.target.value})},isInvalid:this.props.userCreationStatus==p.UserCreationStatuses.PASSWORDS_DONT_MATCH})),s.default.createElement(d.default.Group,{controlId:"formNewUserRepeatPassword"},s.default.createElement(d.default.Label,null,"Repeat Password"),s.default.createElement(d.default.Control,{type:"password",onChange:function(t){return e.setState({repeatPassword:t.target.value})},isInvalid:this.props.userCreationStatus==p.UserCreationStatuses.PASSWORDS_DONT_MATCH}),s.default.createElement(d.default.Control.Feedback,{type:"invalid"},"Passwords don't match.")),s.default.createElement(u.default,{variant:"primary",type:"button",disabled:this.props.userCreationStatus==p.UserCreationStatuses.PROCESSING||this.props.userCreationStatus==p.UserCreationStatuses.SUCCESS,onClick:function(){return e.props.submitForm(e.state.username,e.state.password,e.state.repeatPassword)}},"Submit"),this.props.userCreationStatus==p.UserCreationStatuses.SUCCESS&&s.default.createElement(c.default,{variant:"success"},"Account created! You may now ",s.default.createElement("a",{href:"/login"},"log in"),"."),t==p.UserCreationStatuses.PROCESSING&&s.default.createElement(c.default,{variant:"info"},s.default.createElement(m.default,{animation:"border",variant:"primary"})," Processing...")))))},t}(s.default.Component));t.UnconnectedNewUserForm=S,t.NewUserForm=f.connect(y,_)(S)},PVq7:function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserProfile=void 0;var s=o(r("q1tI")),u=r("/MKj"),i=r("4tJo"),l=o(r("7vrA")),c=o(r("3Z9Z")),d=o(r("JI6e")),f=o(r("6xyR")),p=o(r("MBJH")),h=o(r("65eO")),m=r("KiFf");var y=u.connect((function(e){return{fetchStatus:e.userProfile.fetchStatus,profile:e.userProfile.profile}}),(function(e){return{requestFetchProfile:function(t){e(i.userProfileActions.requestFetchUserProfile({targetId:t}))}}})),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidMount=function(){this.props.requestFetchProfile(this.props.id)},t.prototype.render=function(){var e=this.props.profile;return e?s.default.createElement(l.default,null,s.default.createElement(f.default,null,s.default.createElement(f.default.Header,null,s.default.createElement("h5",null,e.name)),s.default.createElement(f.default.Body,null,s.default.createElement(f.default,null,s.default.createElement(f.default.Body,null,s.default.createElement(c.default,null,s.default.createElement(d.default,{md:4},s.default.createElement("div",null,"Total score: ",s.default.createElement("b",null,e.totalScore)),s.default.createElement("div",null,"Average score: ",s.default.createElement("b",null,e.averageScore)),s.default.createElement("div",null,"Names contributed: ",s.default.createElement("b",null,e.namesContributed))),s.default.createElement(d.default,{md:8},s.default.createElement(p.default,{size:"sm",striped:!0,bordered:!0},s.default.createElement("tbody",null,e.bands.map((function(e){return s.default.createElement("tr",{key:String(e._id)},s.default.createElement("td",null,s.default.createElement(h.default,{variant:"secondary"},e.score)," ",s.default.createElement("b",null,e.name)," (created ",m.getTimeSince(new Date(e.createdOn))," ago)"))}))))))))))):null},t}(s.default.Component);t.UserProfile=y(_)},U6Ra:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__generator||function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUserRecords=t.watchFetchUserRecordsSaga=void 0;var i=u(r("vDqi")),l=r("5rFJ"),c=o(r("VYM/")),d=r("tIUU");function f(e,t){var r;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,5]),[4,l.call(i.default.post,c.serverUrl+c.getUserRecords,{numOfRecords:e,sortType:t})];case 1:if(200!=(r=n.sent()).status)throw new Error;return[4,l.put(d.userRecordsActions.fetchUserRecordsSuccess(r.data))];case 2:return n.sent(),[3,5];case 3:return n.sent(),[4,l.put(d.userRecordsActions.fetchUserRecordsFailure())];case 4:return n.sent(),[3,5];case 5:return[2]}}))}t.watchFetchUserRecordsSaga=function(){var e,t,r,n;return s(this,(function(a){switch(a.label){case 0:return[4,l.actionChannel(d.userRecordsActions.requestFetchUserRecords.type)];case 1:e=a.sent(),a.label=2;case 2:return[4,l.take(e)];case 3:return t=a.sent().payload,r=t.numOfRecords,n=t.sortType,[4,l.call(f,r,n)];case 4:return a.sent(),[3,2];case 5:return[2]}}))},t.fetchUserRecords=f},UpH7:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__generator||function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.bandScoreModificationSaga=void 0;var i=u(r("vDqi")),l=r("5rFJ"),c=o(r("VYM/")),d=r("Xep1");t.bandScoreModificationSaga=function(){var e,t,r,n;return s(this,(function(a){switch(a.label){case 0:return[4,l.take(d.bandActions.requestModifyBandScore.type)];case 1:e=a.sent().payload,t=e.targetBandId,r=e.modifyingUserId,n=e.modificationValue,a.label=2;case 2:return a.trys.push([2,8,,10]),console.log("modification value in saga: ",n),[4,l.call(i.default.post,c.serverUrl+c.modifyBand,{targetBandId:t,modifyingUserId:r,modificationValue:n})];case 3:if(200!=a.sent().status)throw new Error;return 0!=n?[3,5]:[4,l.put(d.bandActions.modifyBandScoreSuccess({targetBandId:t,modificationValue:-e.undoValue}))];case 4:return a.sent(),[3,7];case 5:return[4,l.put(d.bandActions.modifyBandScoreSuccess({targetBandId:t,modificationValue:n}))];case 6:a.sent(),a.label=7;case 7:return[3,10];case 8:return a.sent(),[4,l.put(d.bandActions.modifyBandScoreFailure())];case 9:return a.sent(),[3,10];case 10:return[3,0];case 11:return[2]}}))}},"VYM/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGetUserProfileUrl=t.getUserProfileEndpoint=t.getUserRecords=t.getUsername=t.createUser=t.newBand=t.modifyBand=t.postBands=t.authenticate=t.serverUrl=void 0,t.serverUrl="",t.authenticate="/api/authenticate",t.postBands="/api/bands",t.modifyBand="/api/band/modify",t.newBand="/api/band/new",t.createUser="/api/create-user",t.getUsername="/api/usernames/get",t.getUserRecords="/api/users/get";t.getUserProfileEndpoint="/api/user-profile/:userId",t.createGetUserProfileUrl=function(e){return"/api/user-profile/"+e}},Xep1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bandActions=void 0;var n=r("i7Pf"),a=r("7Fo/"),o={pendingFetches:0,items:[],creationStatus:a.BandCreationStatuses.NOT_TRYING,scoreModificationState:{status:a.BandScoreModificationStatuses.NOT_TRYING}},s=n.createSlice({name:"bands",initialState:o,reducers:{requestFetchBands:function(e,t){e.pendingFetches++},fetchBandsSuccess:function(e,t){t.payload.forEach((function(t){e.items.some((function(e){return e._id==t._id}))||e.items.push(t)})),e.pendingFetches--},fetchBandsFailure:function(e){e.pendingFetches--},requestCreateBand:function(e,t){e.creationStatus=a.BandCreationStatuses.CREATING},createBandSuccess:function(e,t){e.creationStatus=a.BandCreationStatuses.CREATED,e.items.push(t.payload)},createBandFailure:function(e,t){e.creationStatus=t.payload},requestModifyBandScore:function(e,t){e.scoreModificationState.status=a.BandScoreModificationStatuses.ATTEMPTING,e.scoreModificationState.target=t.payload.targetBandId},modifyBandScoreSuccess:function(e,t){var r=e.items.findIndex((function(e){return e._id===t.payload.targetBandId}));e.items[r].score+=t.payload.modificationValue,e.scoreModificationState.status=a.BandScoreModificationStatuses.SUCCESS},modifyBandScoreFailure:function(e){e.scoreModificationState.status=a.BandScoreModificationStatuses.FAILURE,e.scoreModificationState.target=void 0}}});t.bandActions=s.actions,t.default=s.reducer},YZbJ:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,a++)n[a]=o[s];return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var i=r("ANjH"),l=u(r("rRWa")),c=r("i7Pf"),d=u(r("Xep1")),f=u(r("fqsA")),p=u(r("tIUU")),h=u(r("4tJo")),m=o(r("uHhB")),y=l.default(),_=s(c.getDefaultMiddleware({thunk:!1}),[y]),S=i.combineReducers({bands:d.default,session:f.default,userRecords:p.default,userProfile:h.default});for(var v in t.store=c.configureStore({reducer:S,middleware:_}),m)y.run(m[v])},"bU5+":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__generator||function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.userCreationSaga=void 0;var i=r("5rFJ"),l=u(r("vDqi")),c=o(r("VYM/")),d=r("fqsA"),f=r("7Fo/");t.userCreationSaga=function(){var e,t,r,n,a;return s(this,(function(o){switch(o.label){case 0:return[4,i.take(d.sessionActions.requestCreateUser.type)];case 1:return e=o.sent().payload,t=e.username,r=e.password,n=e.repeatPassword,r===n?[3,3]:[4,i.put(d.sessionActions.createUserFailure({reason:f.UserCreationStatuses.PASSWORDS_DONT_MATCH}))];case 2:return o.sent(),[3,9];case 3:return o.trys.push([3,7,,9]),[4,i.call(l.default.post,c.serverUrl+c.createUser,{username:t,password:r})];case 4:return 200!=o.sent().status?[3,6]:[4,i.put(d.sessionActions.createUserSuccess())];case 5:o.sent(),o.label=6;case 6:return[3,9];case 7:return a=o.sent(),[4,i.put(d.sessionActions.createUserFailure({reason:a.response.data.reason}))];case 8:return o.sent(),[3,9];case 9:return[3,0];case 10:return[2]}}))}},"f7N+":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__generator||function(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchProfileSaga=void 0;var i=r("5rFJ"),l=u(r("vDqi")),c=o(r("VYM/")),d=r("4tJo"),f=r("VYM/");t.fetchProfileSaga=function(){var e,t,r;return s(this,(function(n){switch(n.label){case 0:return[4,i.take(d.userProfileActions.requestFetchUserProfile.type)];case 1:e=n.sent().payload,console.log(e),t=e.targetId,console.log(t),n.label=2;case 2:return n.trys.push([2,8,,10]),console.log(f.createGetUserProfileUrl(t)),[4,i.call(l.default.get,c.serverUrl+f.createGetUserProfileUrl(t))];case 3:return 200!=(r=n.sent()).status?[3,5]:[4,i.put(d.userProfileActions.fetchUserProfileSuccess({profile:r.data.profile}))];case 4:return n.sent(),[3,7];case 5:return[4,i.put(d.userProfileActions.fetchUserProfileFailure())];case 6:n.sent(),n.label=7;case 7:return[3,10];case 8:return n.sent(),[4,i.put(d.userProfileActions.fetchUserProfileFailure())];case 9:return n.sent(),[3,10];case 10:return[3,0];case 11:return[2]}}))}},fqsA:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.sessionActions=void 0;var a=r("i7Pf"),o=r("7Fo/"),s=r("Xep1"),u={authenticationStatus:o.AuthenticationStatuses.NOT_TRYING,userId:void 0,username:void 0,userCreationStatus:o.UserCreationStatuses.NOT_TRYING,bandsModified:[]},i=a.createSlice({name:"session",initialState:u,reducers:{requestAuthenticateUser:function(e,t){e.authenticationStatus=o.AuthenticationStatuses.AUTHENTICATING},authenticateUserSuccess:function(e,t){e.authenticationStatus=o.AuthenticationStatuses.AUTHENTICATED,e.userId=t.payload.userId,e.username=t.payload.username,e.bandsModified=t.payload.bandsModified},authenticateUserFailure:function(e,t){e.authenticationStatus=t.payload.reason,e.userId=void 0},requestLogout:function(){return u},requestCreateUser:function(e,t){e.userCreationStatus=o.UserCreationStatuses.PROCESSING},createUserSuccess:function(e){e.userCreationStatus=o.UserCreationStatuses.SUCCESS},createUserFailure:function(e,t){e.userCreationStatus=t.payload.reason}},extraReducers:(n={},n[s.bandActions.modifyBandScoreSuccess.type]=function(e,t){e.bandsModified.push({targetBandId:t.payload.targetBandId,value:t.payload.modificationValue})},n)});t.sessionActions=i.actions,t.default=i.reducer},g6pE:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;var a=n(r("q1tI")),o=r("/MKj"),s=r("55Ip"),u=r("YZbJ"),i=r("+WgK"),l=r("t+eW"),c=r("mUFl"),d=r("mlUh"),f=r("7hBq"),p=r("OEB8"),h=r("PVq7");t.Main=function(){return a.default.createElement(s.Router,{history:i.history},a.default.createElement(o.Provider,{store:u.store},a.default.createElement("div",null,a.default.createElement(f.Navigation,null),a.default.createElement(s.Route,{exact:!0,path:"/bands",component:l.BigBandTable}),a.default.createElement(s.Route,{exact:!0,path:"/login",component:d.Login}),a.default.createElement(s.Route,{exact:!0,path:"/new-user",component:p.NewUserForm}),a.default.createElement(s.Route,{exact:!0,path:"/",component:c.Landing}),a.default.createElement(s.Route,{path:"/users/:userId",component:function(e){var t=e.match;return a.default.createElement(h.UserProfile,{id:t.params.userId})}}))))}},mUFl:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Landing=void 0;var a=n(r("q1tI")),o=r("AEI1"),s=r("t+eW"),u=n(r("7vrA")),i=n(r("3Z9Z")),l=n(r("JI6e")),c=n(r("6xyR")),d=r("u/DC"),f=r("7Fo/");t.Landing=function(){return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.default,null,a.default.createElement(i.default,{className:"mb-5"},a.default.createElement(l.default,{md:8,className:"mb-3"},a.default.createElement(o.CreateBandForm,null),a.default.createElement(s.BigBandTable,null)),a.default.createElement(l.default,{md:4},a.default.createElement(c.default,{className:"mb-3"},a.default.createElement(c.default.Header,null,a.default.createElement("h5",null,"Most Names Contributed")),a.default.createElement(c.default.Body,null,a.default.createElement(d.UserRecordsList,{maxRecords:10,sortType:f.UserRecordSortTypes.MOST_NAMES_CONTRIBUTED}))),a.default.createElement(c.default,{className:"mb-3"},a.default.createElement(c.default.Header,null,a.default.createElement("h5",null,"Highest Average Score")),a.default.createElement(c.default.Body,null,a.default.createElement(d.UserRecordsList,{maxRecords:10,sortType:f.UserRecordSortTypes.HIGHEST_AVERAGE_SCORE}))),a.default.createElement(c.default,{className:"mb-3"},a.default.createElement(c.default.Header,null,a.default.createElement("h5",null,"Highest Score")),a.default.createElement(c.default.Body,null,a.default.createElement(d.UserRecordsList,{maxRecords:10,sortType:f.UserRecordSortTypes.HIGHEST_SCORE})))))))}},mlUh:function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;var s=o(r("q1tI")),u=o(r("cWnB")),i=o(r("TUci")),l=o(r("7vrA")),c=o(r("6xyR")),d=o(r("QojX")),f=r("/MKj"),p=r("7Fo/"),h=r("fqsA"),m=o(r("T/rR")),y=function(e){return{authenticationStatus:e.session.authenticationStatus}},_=function(e){return{authenticateUser:function(t,r){return e(h.sessionActions.requestAuthenticateUser({username:t,password:r}))}}},S=(f.connect(y,_),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={username:"",password:""},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.authenticationStatus,n=t.authenticateUser;return s.default.createElement(l.default,null,s.default.createElement(c.default,{style:{maxWidth:"36rem"},className:"mx-auto"},s.default.createElement(c.default.Body,null,s.default.createElement(d.default,null,s.default.createElement(d.default.Group,{controlId:"formBasicUsername"},s.default.createElement(d.default.Label,null,"Username"),s.default.createElement(d.default.Control,{type:"text",isInvalid:r==p.AuthenticationStatuses.USERNAME_NOT_FOUND,onChange:function(t){return e.setState({username:t.target.value})}}),s.default.createElement(d.default.Text,{className:"text-muted"},"New user? Create an account ",s.default.createElement("a",{href:"/new-user"},"here"),"."),s.default.createElement(d.default.Control.Feedback,{type:"invalid"},"Please enter a valid username.")),s.default.createElement(d.default.Group,{controlId:"formBasicPassword"},s.default.createElement(d.default.Label,null,"Password"),s.default.createElement(d.default.Control,{type:"password",isInvalid:r==p.AuthenticationStatuses.INVALID_PASSWORD,onChange:function(t){return e.setState({password:t.target.value})}}),s.default.createElement(d.default.Control.Feedback,{type:"invalid"},"Incorrect password.")),s.default.createElement(u.default,{variant:"primary",type:"button",disabled:r==p.AuthenticationStatuses.AUTHENTICATING||r==p.AuthenticationStatuses.AUTHENTICATED,onClick:function(){return n(e.state.username,e.state.password)}},"Submit"),r==p.AuthenticationStatuses.AUTHENTICATING&&s.default.createElement(i.default,{variant:"info"},s.default.createElement(m.default,{animation:"border",variant:"primary"})," Processing..."),r==p.AuthenticationStatuses.AUTHENTICATED&&s.default.createElement(i.default,{variant:"success"},"Successfully logged in!")))))},t}(s.default.Component));t.Login=f.connect(y,_)(S)},n7of:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUserProfileUrl=void 0,t.createUserProfileUrl=function(e){return"/users/"+e}},qgVz:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r("q1tI")),o=n(r("i8i4")),s=r("g6pE");r("q4sD"),o.default.render(a.default.createElement(s.Main,null),document.getElementById("app"))},"t+eW":function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,a++)n[a]=o[s];return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BigBandTable=void 0;var u=s(r("q1tI")),i=s(r("cWnB")),l=s(r("pJDg")),c=s(r("65eO")),d=s(r("6xyR")),f=s(r("MBJH")),p=s(r("hlKo")),h=r("/MKj"),m=r("7Fo/"),y=r("Xep1"),_=r("vpfB"),S=r("1HUD"),v=r("n7of"),b=r("55Ip");function E(e){return{appIsFetchingBands:e.bands.pendingFetches>0,bands:o(e.bands.items),userIsAuthenticated:e.session.authenticationStatus==m.AuthenticationStatuses.AUTHENTICATED,userId:e.session.userId,usersModifications:e.session.bandsModified}}function g(e){return{addPointsTo:function(t,r,n,a){n&&e(y.bandActions.requestModifyBandScore({targetBandId:t,modifyingUserId:n,modificationValue:r,undoValue:a}))},requestFetchBands:function(t,r){e(y.bandActions.requestFetchBands({maxBands:t,sortBy:r}))}}}h.connect(E,g);var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={sortType:m.BandSortTypes.MOST_RECENT,bandsPerFetch:20,shouldFetchBands:!1,maxBandsDisplayed:20},t}return a(t,e),t.prototype.componentDidMount=function(){this.props.requestFetchBands(this.state.bandsPerFetch,this.state.sortType)},t.prototype.componentDidUpdate=function(e,t){console.log("this.state.maxBandsDisplayed: ",this.state.maxBandsDisplayed),console.log("prevState.maxBandsDisplayed: ",t.maxBandsDisplayed),(this.state.maxBandsDisplayed>t.maxBandsDisplayed||this.state.shouldFetchBands)&&(this.props.requestFetchBands(this.state.maxBandsDisplayed,this.state.sortType),this.setState({shouldFetchBands:!1})),this.state.sortType!==t.sortType&&this.setState({maxBandsDisplayed:this.state.bandsPerFetch,shouldFetchBands:!0})},t.prototype.setSortType=function(e){this.setState({sortType:e})},t.prototype.loadMore=function(){this.setState((function(e){return{maxBandsDisplayed:e.maxBandsDisplayed+e.bandsPerFetch}}))},t.prototype.getUserModificationToBand=function(e){var t=this.props.usersModifications.find((function(t){return t.targetBandId===e}));return t?t.value:0},t.prototype.render=function(){var e=this,t=_.sortAndLimitBands(this.props.bands,this.state.sortType,this.state.maxBandsDisplayed),r=[{value:m.BandSortTypes.BEST,name:"Best"},{value:m.BandSortTypes.WORST,name:"Worst"},{value:m.BandSortTypes.MOST_RECENT,name:"Most Recent"}],n=this.props.userIsAuthenticated;return u.default.createElement(d.default,null,u.default.createElement(d.default.Header,null,u.default.createElement(l.default,{toggle:!0},r.map((function(t,r){return u.default.createElement(p.default,{key:r,type:"radio",value:t.value,name:"sortRadio",checked:t.value===e.state.sortType,onChange:function(t){t.preventDefault();var r=t.currentTarget;console.log("currentTarget",r);var n=parseInt(r.value);console.log("sortTypeAsNumber",n),e.setSortType(n)}},t.name)})))),u.default.createElement(d.default.Body,null,u.default.createElement(f.default,{size:"sm",striped:!0,bordered:!0},u.default.createElement("tbody",null,t.map((function(t){return u.default.createElement("tr",{key:String(t._id)},u.default.createElement("td",null,u.default.createElement(S.BandModButtonGroup,{userIsAuthorized:n,modPerformed:e.getUserModificationToBand(t._id),modifyBand:function(r,n){return e.props.addPointsTo(t._id,r,e.props.userId,n)},currentScore:t.score})," ",u.default.createElement(c.default,{variant:"secondary"},t.score)," ",t.name," ",u.default.createElement("span",{className:"font-weight-lighter"},"from  ",u.default.createElement(b.Link,{to:v.createUserProfileUrl(String(t.ownerId))},t.ownerName))))})))),u.default.createElement(i.default,{variant:"secondary",block:!0,onClick:function(){return e.loadMore()}},"Show me more...")))},t}(u.default.Component);t.BigBandTable=h.connect(E,g)(T)},tIUU:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userRecordsActions=void 0;var n=r("i7Pf").createSlice({name:"userRecords",initialState:{pendingFetches:0,items:[]},reducers:{requestFetchUserRecords:function(e,t){e.pendingFetches++},fetchUserRecordsSuccess:function(e,t){t.payload.forEach((function(t){e.items.some((function(e){return e.id==t.id}))||e.items.push(t)})),e.pendingFetches--},fetchUserRecordsFailure:function(e){e.pendingFetches--}}});t.userRecordsActions=n.actions,t.default=n.reducer},"u/DC":function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,a++)n[a]=o[s];return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserRecordsList=void 0;var u=s(r("q1tI")),i=r("/MKj"),l=r("7Fo/"),c=r("tIUU"),d=r("6pyq"),f=s(r("MBJH")),p=s(r("65eO")),h=r("55Ip"),m=r("n7of");function y(e){return{appIsFetchingRecords:e.userRecords.pendingFetches>0,records:o(e.userRecords.items)}}function _(e){return{requestUserRecords:function(t,r){e(c.userRecordsActions.requestFetchUserRecords({numOfRecords:t,sortType:r}))}}}function S(e){switch(e.sortType){case l.UserRecordSortTypes.HIGHEST_AVERAGE_SCORE:return u.default.createElement(p.default,{variant:"secondary"},e.record.averageScore.toFixed(2));case l.UserRecordSortTypes.HIGHEST_SCORE:return u.default.createElement(p.default,{variant:"secondary"},e.record.totalScore);case l.UserRecordSortTypes.MOST_NAMES_CONTRIBUTED:return u.default.createElement(p.default,{variant:"secondary"},e.record.namesContributed);default:return u.default.createElement(p.default,{variant:"secondary"},"?")}}i.connect(y,_);var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidMount=function(){this.props.requestUserRecords(this.props.maxRecords,this.props.sortType)},t.prototype.render=function(){var e=this;if(this.props.appIsFetchingRecords)return u.default.createElement("div",null,"Loading user records...");var t=d.sortAndLimitUserRecords(this.props.records,this.props.sortType,this.props.maxRecords);return u.default.createElement(f.default,{size:"sm",striped:!0,bordered:!0},u.default.createElement("tbody",null,t.map((function(t,r){return u.default.createElement("tr",{key:String(t.id)},u.default.createElement("td",null,r+1),u.default.createElement("td",null,u.default.createElement(h.Link,{to:m.createUserProfileUrl(String(t.id))},t.name)," ",u.default.createElement(S,{sortType:e.props.sortType,record:t})))}))))},t}(u.default.Component);t.UserRecordsList=i.connect(y,_)(v)},uHhB:function(e,t,r){"use strict";r.r(t);var n=r("7Zh8");r.d(t,"bandCreationSaga",(function(){return n.bandCreationSaga}));var a=r("UpH7");r.d(t,"bandScoreModificationSaga",(function(){return a.bandScoreModificationSaga}));var o=r("O5yZ");r.d(t,"userAuthenticationSaga",(function(){return o.userAuthenticationSaga}));var s=r("bU5+");r.d(t,"userCreationSaga",(function(){return s.userCreationSaga}));var u=r("NL3p");r.d(t,"watchFetchBandsSaga",(function(){return u.watchFetchBandsSaga}));var i=r("U6Ra");r.d(t,"watchFetchUserRecordsSaga",(function(){return i.watchFetchUserRecordsSaga}));var l=r("f7N+");r.d(t,"fetchProfileSaga",(function(){return l.fetchProfileSaga}))},vpfB:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,a++)n[a]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.sortAndLimitBands=void 0;var a=r("7Fo/");t.sortAndLimitBands=function(e,t,r){var o=n(e);switch(t){case a.BandSortTypes.BEST:o.sort((function(e,t){return t.score-e.score}));break;case a.BandSortTypes.MOST_RECENT:o.sort((function(e,t){return Date.parse(t.createdOn)-Date.parse(e.createdOn)}));break;case a.BandSortTypes.WORST:o.sort((function(e,t){return e.score-t.score}))}return o=o.slice(0,r)}}},[["qgVz",1,2]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3N0b3JlL2hpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL0JhbmRNb2RCdXR0b25Hcm91cC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zdG9yZS9zbGljZXMvdXNlci1wcm9maWxlLXNsaWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy91dGlsaXR5L2xpbWl0LXNvcnQtdXNlci1yZWNvcmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc3RvcmUvc3RhdHVzZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zdG9yZS9zYWdhcy9iYW5kLWNyZWF0aW9uLXNhZ2EudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL05hdmlnYXRpb24udHN4Iiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9DcmVhdGVCYW5kRm9ybS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL3V0aWxpdHkvZ2V0LXRpbWUtc2luY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zdG9yZS9zYWdhcy93YXRjaC1mZXRjaC1iYW5kcy1zYWdhLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc3RvcmUvc2FnYXMvdXNlci1hdXRoZW50aWNhdGlvbi1zYWdhLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9OZXdVc2VyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvVXNlclByb2ZpbGUudHN4Iiwid2VicGFjazovLy8uL3NyYy9hcHAvc3RvcmUvc2FnYXMvZmV0Y2gtdXNlci1yZWNvcmRzLXNhZ2EudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zdG9yZS9zYWdhcy9iYW5kLXNjb3JlLW1vZGlmaWNhdGlvbi1zYWdhLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2ZXIvcGF0aHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zdG9yZS9zbGljZXMvYmFuZHMtc2xpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9zdG9yZS9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3N0b3JlL3NhZ2FzL3VzZXItY3JlYXRpb24tc2FnYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3N0b3JlL3NhZ2FzL2ZldGNoLXVzZXItcHJvZmlsZS1zYWdhLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvc3RvcmUvc2xpY2VzL3Nlc3Npb24tc2xpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC9jb21wb25lbnRzL01haW4udHN4Iiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9MYW5kaW5nLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvTG9naW4udHN4Iiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy91dGlsaXR5L2NyZWF0ZS11c2VyLXByb2ZpbGUtdXJsLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAvaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy9CaWdCYW5kVGFibGUudHN4Iiwid2VicGFjazovLy8uL3NyYy9hcHAvc3RvcmUvc2xpY2VzL3VzZXItcmVjb3Jkcy1zbGljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL2NvbXBvbmVudHMvVXNlclJlY29yZHNMaXN0LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwL3N0b3JlL3NhZ2FzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9hcHAvY29tcG9uZW50cy91dGlsaXR5L2xpbWl0LXNvcnQtYmFuZHMudHMiXSwibmFtZXMiOlsiaGlzdG9yeSIsInN0YXRlIiwibW9kVmFsdWUiLCJwcm9wcyIsIm1vZFBlcmZvcm1lZCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInByZXZTdGF0ZSIsInRoaXMiLCJtb2RpZnlCYW5kIiwicmVuZGVyIiwidXNlcklzQXV0aG9yaXplZCIsIm5hbWUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidmFsIiwic2V0U3RhdGUiLCJkaXNhYmxlZCIsImNoZWNrZWQiLCJCc0NhcmV0RG93bkZpbGwiLCJCc0NhcmV0RG93biIsIkJzQ2FyZXRVcEZpbGwiLCJCc0NhcmV0VXAiLCJDb21wb25lbnQiLCJCYW5kTW9kQnV0dG9uR3JvdXAiLCJpbml0aWFsU3RhdGUiLCJmZXRjaFN0YXR1cyIsIlByb2ZpbGVGZXRjaFN0YXR1c2VzIiwiTk9UX1RSWUlORyIsInByb2ZpbGUiLCJ1bmRlZmluZWQiLCJ1c2VyUHJvZmlsZVNsaWNlIiwiY3JlYXRlU2xpY2UiLCJyZWR1Y2VycyIsInJlcXVlc3RGZXRjaFVzZXJQcm9maWxlIiwiYWN0aW9uIiwiQVRURU1QVElORyIsImZldGNoVXNlclByb2ZpbGVTdWNjZXNzIiwiU1VDQ0VTUyIsInBheWxvYWQiLCJmZXRjaFVzZXJQcm9maWxlRmFpbHVyZSIsIkZBSUxVUkUiLCJ1c2VyUHJvZmlsZUFjdGlvbnMiLCJhY3Rpb25zIiwicmVkdWNlciIsInJlY29yZHMiLCJzb3J0QnkiLCJsaW1pdCIsImZpbHRlcmVkUmVjb3JkcyIsIlVzZXJSZWNvcmRTb3J0VHlwZXMiLCJISUdIRVNUX0FWRVJBR0VfU0NPUkUiLCJzb3J0IiwiYSIsImIiLCJhdmVyYWdlU2NvcmUiLCJISUdIRVNUX1NDT1JFIiwidG90YWxTY29yZSIsIk1PU1RfTkFNRVNfQ09OVFJJQlVURUQiLCJuYW1lc0NvbnRyaWJ1dGVkIiwic2xpY2UiLCJCYW5kQ3JlYXRpb25TdGF0dXNlcyIsIkJhbmRTb3J0VHlwZXMiLCJCYW5kU2NvcmVNb2RpZmljYXRpb25TdGF0dXNlcyIsIkF1dGhlbnRpY2F0aW9uU3RhdHVzZXMiLCJVc2VyQ3JlYXRpb25TdGF0dXNlcyIsInRha2UiLCJiYW5kQWN0aW9ucyIsInJlcXVlc3RDcmVhdGVCYW5kIiwidHlwZSIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGluZ1VzZXJJZCIsImJhbmROYW1lIiwiY3JlYXRpbmdVc2VybmFtZSIsInJlcXVlc3RCb2R5Iiwib3duZXJJZCIsIm93bmVyTmFtZSIsImNhbGwiLCJwb3N0IiwicGF0aHMiLCJzZXJ2ZXJVcmwiLCJuZXdCYW5kIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJFcnJvciIsInB1dCIsImNyZWF0ZUJhbmRTdWNjZXNzIiwicmVhc29uIiwiZGF0YSIsImNyZWF0ZUJhbmRGYWlsdXJlIiwibWFwU3RhdGVUb1Byb3BzIiwic2Vzc2lvbiIsImF1dGhlbnRpY2F0aW9uU3RhdHVzIiwidXNlcm5hbWUiLCJtYXBEaXNwYXRjaFRvUHJvcHMiLCJkaXNwYXRjaCIsImxvZ291dCIsInNlc3Npb25BY3Rpb25zIiwicmVxdWVzdExvZ291dCIsImNvbm5lY3QiLCJOYXZpZ2F0aW9uIiwiYmciLCJjbGFzc05hbWUiLCJMaW5rQ29udGFpbmVyIiwidG8iLCJCcmFuZCIsIkFVVEhFTlRJQ0FURUQiLCJJdGVtIiwiTGluayIsIm9uQ2xpY2siLCJOb05hbWVBbGVydCIsInZhcmlhbnQiLCJIZWFkaW5nIiwiQmFuZEV4aXN0c0FsZXJ0IiwiVXNlck5vdExvZ2dlZEluQWxlcnQiLCJCYW5kQ3JlYXRlZEFsZXJ0IiwidXNlcklkIiwiY3JlYXRlQmFuZCIsImRpc3BsYXlCYW5kRXhpc3RzQWxlcnQiLCJkaXNwbGF5VXNlck5vdExvZ2dlZEluIiwiZGlzcGxheU5vTmFtZUFsZXJ0IiwiZGlzcGxheVByb2dlc3MiLCJkaXNwbGF5U3VjY2VzcyIsImhhbmRsZUNsaWNrIiwic2l6ZSIsInBsYWNlaG9sZGVyIiwiZSIsInRhcmdldCIsIkFwcGVuZCIsIkNyZWF0ZUJhbmRGb3JtIiwiVW5jb25uZWN0ZWRDcmVhdGVCYW5kRm9ybSIsImRhdGUiLCJlbGFwc2VkVGltZSIsIkRhdGUiLCJub3ciLCJnZXRNaWxsaXNlY29uZHMiLCJtc0luTWludXRlIiwibnVtT2ZNaW51dGVzIiwiTWF0aCIsImZsb29yIiwibXNJbkhvdXIiLCJtc0luRGF5IiwibnVtT2ZZZWFycyIsIm51bU9mRGF5cyIsInN0cmluZyIsImZldGNoQmFuZHMiLCJtYXhCYW5kcyIsInBvc3RCYW5kcyIsImZldGNoQmFuZHNTdWNjZXNzIiwiZmV0Y2hCYW5kc0ZhaWx1cmUiLCJhY3Rpb25DaGFubmVsIiwicmVxdWVzdEZldGNoQmFuZHMiLCJmZXRjaEJhbmRzQ2hhbm5lbCIsInJlcXVlc3RBdXRoZW50aWNhdGVVc2VyIiwicGFzc3dvcmQiLCJhdXRoZW50aWNhdGUiLCJiYW5kc01vZGlmaWVkIiwiYXV0aGVudGljYXRlVXNlclN1Y2Nlc3MiLCJhdXRoZW50aWNhdGVVc2VyRmFpbHVyZSIsImVycm9yIiwidXNlckNyZWF0aW9uU3RhdHVzIiwic3VibWl0Rm9ybSIsInJlcGVhdFBhc3N3b3JkIiwicmVxdWVzdENyZWF0ZVVzZXIiLCJlbWFpbCIsInN0eWxlIiwibWF4V2lkdGgiLCJCb2R5IiwiR3JvdXAiLCJjb250cm9sSWQiLCJMYWJlbCIsIkNvbnRyb2wiLCJpc0ludmFsaWQiLCJVU0VSTkFNRV9UQUtFTiIsIkZlZWRiYWNrIiwiUEFTU1dPUkRTX0RPTlRfTUFUQ0giLCJQUk9DRVNTSU5HIiwiaHJlZiIsImFuaW1hdGlvbiIsIlVuY29ubmVjdGVkTmV3VXNlckZvcm0iLCJOZXdVc2VyRm9ybSIsInJlZHV4Q29ubmVjdG9yIiwidXNlclByb2ZpbGUiLCJyZXF1ZXN0RmV0Y2hQcm9maWxlIiwidGFyZ2V0SWQiLCJjb21wb25lbnREaWRNb3VudCIsImlkIiwiSGVhZGVyIiwibWQiLCJzdHJpcGVkIiwiYm9yZGVyZWQiLCJiYW5kcyIsIm1hcCIsImJhbmQiLCJrZXkiLCJTdHJpbmciLCJfaWQiLCJzY29yZSIsImdldFRpbWVTaW5jZSIsImNyZWF0ZWRPbiIsIlVzZXJQcm9maWxlIiwiVW5jb25uZWN0ZWRVc2VyUHJvZmlsZSIsImZldGNoVXNlclJlY29yZHMiLCJtYXhSZWNvcmRzIiwiZ2V0VXNlclJlY29yZHMiLCJudW1PZlJlY29yZHMiLCJzb3J0VHlwZSIsInVzZXJSZWNvcmRzQWN0aW9ucyIsImZldGNoVXNlclJlY29yZHNTdWNjZXNzIiwiZmV0Y2hVc2VyUmVjb3Jkc0ZhaWx1cmUiLCJyZXF1ZXN0RmV0Y2hVc2VyUmVjb3JkcyIsImZldGNoVXNlclJlY29yZHNDaGFubmVsIiwicmVxdWVzdE1vZGlmeUJhbmRTY29yZSIsInRhcmdldEJhbmRJZCIsIm1vZGlmeWluZ1VzZXJJZCIsIm1vZGlmaWNhdGlvblZhbHVlIiwibW9kaWZ5QmFuZFNjb3JlU3VjY2VzcyIsInVuZG9WYWx1ZSIsIm1vZGlmeUJhbmRTY29yZUZhaWx1cmUiLCJjcmVhdGVVc2VyIiwiZ2V0VXNlcm5hbWUiLCJnZXRVc2VyUHJvZmlsZUVuZHBvaW50IiwiZ2V0VXNlclByb2ZpbGVCYXNlIiwidGFyZ2V0VXNlcklkIiwicGVuZGluZ0ZldGNoZXMiLCJpdGVtcyIsImNyZWF0aW9uU3RhdHVzIiwic2NvcmVNb2RpZmljYXRpb25TdGF0ZSIsImJhbmRzU2xpY2UiLCJmb3JFYWNoIiwic29tZSIsInB1c2giLCJDUkVBVElORyIsIkNSRUFURUQiLCJ0YXJnZXRCYW5kSW5kZXgiLCJmaW5kSW5kZXgiLCJzYWdhTWlkZGxld2FyZSIsIm1pZGRsZXdhcmUiLCJnZXREZWZhdWx0TWlkZGxld2FyZSIsInRodW5rIiwicm9vdFJlZHVjZXIiLCJjb21iaW5lUmVkdWNlcnMiLCJ1c2VyUmVjb3JkcyIsInNhZ2EiLCJzdG9yZSIsImNvbmZpZ3VyZVN0b3JlIiwic2FnYXMiLCJydW4iLCJjcmVhdGVVc2VyRmFpbHVyZSIsImNyZWF0ZVVzZXJTdWNjZXNzIiwiY3JlYXRlR2V0VXNlclByb2ZpbGVVcmwiLCJnZXQiLCJzZXNzaW9uU2xpY2UiLCJBVVRIRU5USUNBVElORyIsImV4dHJhUmVkdWNlcnMiLCJNYWluIiwiUm91dGVyIiwiUHJvdmlkZXIiLCJSb3V0ZSIsImV4YWN0IiwicGF0aCIsImNvbXBvbmVudCIsIkJpZ0JhbmRUYWJsZSIsIkxvZ2luIiwiTGFuZGluZyIsIm1hdGNoIiwicGFyYW1zIiwiVXNlclJlY29yZHNMaXN0IiwiYXV0aGVudGljYXRlVXNlciIsIlVTRVJOQU1FX05PVF9GT1VORCIsIlRleHQiLCJJTlZBTElEX1BBU1NXT1JEIiwiVW5jb25uZWN0ZWRMb2dpbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhcHBJc0ZldGNoaW5nQmFuZHMiLCJ1c2VySXNBdXRoZW50aWNhdGVkIiwidXNlcnNNb2RpZmljYXRpb25zIiwiYWRkUG9pbnRzVG8iLCJNT1NUX1JFQ0VOVCIsImJhbmRzUGVyRmV0Y2giLCJzaG91bGRGZXRjaEJhbmRzIiwibWF4QmFuZHNEaXNwbGF5ZWQiLCJzZXRTb3J0VHlwZSIsIm5ld1R5cGUiLCJsb2FkTW9yZSIsImdldFVzZXJNb2RpZmljYXRpb25Ub0JhbmQiLCJ0aGlzQmFuZElkIiwibW9kaWZpY2F0aW9uIiwiZmluZCIsImRlc2lyZWRCYW5kcyIsInNvcnRBbmRMaW1pdEJhbmRzIiwic29ydFJhZGlvcyIsIkJFU1QiLCJXT1JTVCIsInRvZ2dsZSIsInJhZGlvIiwiaWR4IiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50VGFyZ2V0Iiwic29ydFR5cGVBc051bWJlciIsInBhcnNlSW50IiwiY3VycmVudFNjb3JlIiwiY3JlYXRlVXNlclByb2ZpbGVVcmwiLCJibG9jayIsIlVuY29ubmVjdGVkQmlnQmFuZFRhYmxlIiwidXNlclJlY29yZHNTbGljZSIsIm5ld1JlY29yZCIsInJlY29yZCIsImFwcElzRmV0Y2hpbmdSZWNvcmRzIiwicmVxdWVzdFVzZXJSZWNvcmRzIiwiTGlzdEVudHJ5QmFkZ2UiLCJ0b0ZpeGVkIiwiZGVzaXJlZFJlY29yZHMiLCJzb3J0QW5kTGltaXRVc2VyUmVjb3JkcyIsImluZGV4IiwiVW5jb25uZWN0ZWRVc2VyUmVjb3Jkc0xpc3QiLCJmaWx0ZXJlZEJhbmRzIiwicGFyc2UiXSwibWFwcGluZ3MiOiI2RkFBQSwrREFFTyxNQUFNQSxFQUFVLGUsaWhCQ0R2QixtQkFFQSxlQUNBLGVBQ0EsWUF5QkEseUUsT0FJRSxFQUFBQyxNQUFRLENBQ05DLFNBQVUsRUFBS0MsTUFBTUMsYyxFQThDekIsT0FuRHdDLE9BUXRDLFlBQUFDLG1CQUFBLFNBQ0VDLEVB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LEVBQVFPLEdBQVUsT0FDckMsOEJBQUl6SCxJQUFLQyxPQUFPaUgsRUFBTzFILEtBQ3JCLGtDQUFLaUksRUFBUSxHQUNiLGtDQUNFLHdCQUFDLEVBQUEvTSxLQUFJLENBQUNKLEdBQUksRUFBQXVNLHFCQUFxQjVHLE9BQU9pSCxFQUFPMUgsTUFBTzBILEVBQU94UyxNQUFhLElBQ3hFLHdCQUFDMlMsRUFBYyxDQUNiekcsU0FBVSxFQUFLM00sTUFBTTJNLFNBQ3JCc0csT0FBUUEsWUFTMUIsRUFuQ0EsQ0FBeUMsVUFBTTdSLFdBcUNsQyxFQUFBb1AsZ0JBQWtCLEVBQUF4SyxRQUM3QlQsRUFDQUksRUFGNkIsQ0FHN0I4TixJLGtDQ2hHRiw0bkIscVVDQUEsZ0JBR0EsNkJBQ0U3SCxFQUNBakosRUFDQUMsR0FFQSxJQUFJOFEsRUFBZ0IsRUFBSTlILEdBRXhCLE9BQVFqSixHQUNOLEtBQUssRUFBQWUsY0FBY3dPLEtBQ2pCd0IsRUFBYzFRLE1BQUssU0FBQ0MsRUFBR0MsR0FBTSxPQUFBQSxFQUFFZ0osTUFBUWpKLEVBQUVpSixTQUN6QyxNQUNGLEtBQUssRUFBQXhJLGNBQWMwTixZQUNqQnNDLEVBQWMxUSxNQUFLLFNBQUNDLEVBQUdDLEdBR3JCLE9BQU9nRixLQUFLeUwsTUFBTXpRLEVBQUVrSixXQUFhbEUsS0FBS3lMLE1BQU0xUSxFQUFFbUosY0FFaEQsTUFDRixLQUFLLEVBQUExSSxjQUFjeU8sTUFDakJ1QixFQUFjMVEsTUFBSyxTQUFDQyxFQUFHQyxHQUFNLE9BQUFELEVBQUVpSixNQUFRaEosRUFBRWdKLFNBTzdDLE9BREF3SCxFQUFnQkEsRUFBY2xRLE1BQU0sRUFBR1osTSIsImZpbGUiOiJtYWluLjA5N2I5MGM2MjVkMWJmNTIyOWM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQnJvd3Nlckhpc3RvcnkgfSBmcm9tIFwiaGlzdG9yeVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGhpc3RvcnkgPSBjcmVhdGVCcm93c2VySGlzdG9yeSgpO1xyXG4iLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0J1dHRvblwiO1xyXG5pbXBvcnQgVG9nZ2xlQnV0dG9uR3JvdXAgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9Ub2dnbGVCdXR0b25Hcm91cFwiO1xyXG5pbXBvcnQgVG9nZ2xlQnV0dG9uIGZyb20gXCJyZWFjdC1ib290c3RyYXAvVG9nZ2xlQnV0dG9uXCI7XHJcbmltcG9ydCB7XHJcbiAgQnNDYXJldERvd24sXHJcbiAgQnNDYXJldERvd25GaWxsLFxyXG4gIEJzQ2FyZXRVcCxcclxuICBCc0NhcmV0VXBGaWxsLFxyXG59IGZyb20gXCJyZWFjdC1pY29ucy9ic1wiO1xyXG5cclxuLy8gQmFuZE1vZEJ1dHRvbkdyb3VwLnByb3BUeXBlcyA9IHtcclxuLy8gICB1c2VySXNBdXRob3JpemVkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxyXG4vLyAgIG1vZGlmeUJhbmQ6IFByb3BUeXBlcy5mdW5jLFxyXG4vLyAgIG1vZFBlcmZvcm1lZDogUHJvcFR5cGVzLm9uZU9mKFsxLCAwLCAtMV0pLFxyXG4vLyB9O1xyXG5cclxudHlwZSBCYW5kTW9kQnV0dG9uR3JvdXBQcm9wcyA9IHtcclxuICB1c2VySXNBdXRob3JpemVkOiBib29sZWFuO1xyXG4gIG1vZGlmeUJhbmQ/OiAobW9kVmFsdWU6IG51bWJlciwgdW5kb1ZhbHVlPzogbnVtYmVyKSA9PiB2b2lkO1xyXG4gIG1vZFBlcmZvcm1lZDogbnVtYmVyO1xyXG4gIGN1cnJlbnRTY29yZTogbnVtYmVyO1xyXG59O1xyXG5cclxudHlwZSBCYW5kTW9kQnV0dG9uR3JvdXBTdGF0ZSA9IHtcclxuICBtb2RWYWx1ZTogbnVtYmVyO1xyXG59O1xyXG5cclxuLy8gVE9ETzogTG9nZ2luZyBvdXQgd2lsbCBzdGlsbCBzaG93IHRoZSBCc0NhcnJldHMgYXMgJ2ZpbGxlZCcgaWYgdGhlIHVzZXIgbW9kaWZpZWQgdGhvc2UgYmFuZHNcclxuZXhwb3J0IGNsYXNzIEJhbmRNb2RCdXR0b25Hcm91cCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcclxuICBCYW5kTW9kQnV0dG9uR3JvdXBQcm9wcyxcclxuICBCYW5kTW9kQnV0dG9uR3JvdXBTdGF0ZVxyXG4+IHtcclxuICBzdGF0ZSA9IHtcclxuICAgIG1vZFZhbHVlOiB0aGlzLnByb3BzLm1vZFBlcmZvcm1lZCxcclxuICB9O1xyXG5cclxuICBjb21wb25lbnREaWRVcGRhdGUoXHJcbiAgICBwcmV2UHJvcHM6IEJhbmRNb2RCdXR0b25Hcm91cFByb3BzLFxyXG4gICAgcHJldlN0YXRlOiBCYW5kTW9kQnV0dG9uR3JvdXBTdGF0ZVxyXG4gICkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUubW9kVmFsdWUgIT0gcHJldlN0YXRlLm1vZFZhbHVlKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLm1vZFZhbHVlID09IDApIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tb2RpZnlCYW5kKSB0aGlzLnByb3BzLm1vZGlmeUJhbmQoMCwgcHJldlN0YXRlLm1vZFZhbHVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5tb2RpZnlCYW5kKSB0aGlzLnByb3BzLm1vZGlmeUJhbmQodGhpcy5zdGF0ZS5tb2RWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgdXNlcklzQXV0aG9yaXplZCwgbW9kUGVyZm9ybWVkIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPFRvZ2dsZUJ1dHRvbkdyb3VwXHJcbiAgICAgICAgbmFtZT17XCJtb2RCdXR0b25zXCJ9XHJcbiAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUubW9kVmFsdWV9XHJcbiAgICAgICAgb25DaGFuZ2U9eyh2YWwpID0+XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWwpXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbW9kVmFsdWU6IHRoaXMuc3RhdGUubW9kVmFsdWUgKyB2YWwgfSlcclxuICAgICAgICB9XHJcbiAgICAgID5cclxuICAgICAgICA8VG9nZ2xlQnV0dG9uXHJcbiAgICAgICAgICBuYW1lPXtcIm5lZ2F0aXZlQnV0dG9uXCJ9XHJcbiAgICAgICAgICB2YWx1ZT17LTF9XHJcbiAgICAgICAgICBkaXNhYmxlZD17IXVzZXJJc0F1dGhvcml6ZWR9XHJcbiAgICAgICAgICBjaGVja2VkPXttb2RQZXJmb3JtZWQgPT0gLTF9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAge3RoaXMuc3RhdGUubW9kVmFsdWUgPT0gLTEgPyA8QnNDYXJldERvd25GaWxsIC8+IDogPEJzQ2FyZXREb3duIC8+fVxyXG4gICAgICAgIDwvVG9nZ2xlQnV0dG9uPlxyXG4gICAgICAgIDxUb2dnbGVCdXR0b25cclxuICAgICAgICAgIG5hbWU9e1wicG9zaXRpdmVCdXR0b25cIn1cclxuICAgICAgICAgIHZhbHVlPXsxfVxyXG4gICAgICAgICAgZGlzYWJsZWQ9eyF1c2VySXNBdXRob3JpemVkfVxyXG4gICAgICAgICAgY2hlY2tlZD17bW9kUGVyZm9ybWVkID09IDF9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAge3RoaXMuc3RhdGUubW9kVmFsdWUgPT0gMSA/IDxCc0NhcmV0VXBGaWxsIC8+IDogPEJzQ2FyZXRVcCAvPn1cclxuICAgICAgICA8L1RvZ2dsZUJ1dHRvbj5cclxuICAgICAgPC9Ub2dnbGVCdXR0b25Hcm91cD5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IGNyZWF0ZVNsaWNlLCBQYXlsb2FkQWN0aW9uIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcclxuaW1wb3J0IHsgVHlwZXMgYXMgTW9uZ29vc2VUeXBlcyB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgeyBCYW5kQ2xhc3MgfSBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL21vZGVscy9iYW5kLW1vZGVsXCI7XHJcbmltcG9ydCB7IFByb2ZpbGVGZXRjaFN0YXR1c2VzIH0gZnJvbSBcIi4uL3N0YXR1c2VzXCI7XHJcblxyXG5leHBvcnQgdHlwZSBVc2VyUHJvZmlsZVR5cGUgPSB7XHJcbiAgaWQ6IE1vbmdvb3NlVHlwZXMuT2JqZWN0SWQ7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHRvdGFsU2NvcmU6IG51bWJlcjtcclxuICBuYW1lc0NvbnRyaWJ1dGVkOiBudW1iZXI7XHJcbiAgYXZlcmFnZVNjb3JlOiBudW1iZXI7XHJcbiAgYmFuZHM6IEJhbmRDbGFzc1tdO1xyXG59O1xyXG5cclxudHlwZSBVc2VyUHJvZmlsZVNsaWNlU3RhdGUgPSB7XHJcbiAgZmV0Y2hTdGF0dXM6IFByb2ZpbGVGZXRjaFN0YXR1c2VzO1xyXG4gIHByb2ZpbGU/OiBVc2VyUHJvZmlsZVR5cGU7XHJcbn07XHJcblxyXG5jb25zdCBpbml0aWFsU3RhdGU6IFVzZXJQcm9maWxlU2xpY2VTdGF0ZSA9IHtcclxuICBmZXRjaFN0YXR1czogUHJvZmlsZUZldGNoU3RhdHVzZXMuTk9UX1RSWUlORyxcclxuICBwcm9maWxlOiB1bmRlZmluZWQsXHJcbn07XHJcblxyXG5jb25zdCB1c2VyUHJvZmlsZVNsaWNlID0gY3JlYXRlU2xpY2Uoe1xyXG4gIG5hbWU6IFwidXNlclByb2ZpbGVcIixcclxuICBpbml0aWFsU3RhdGUsXHJcbiAgcmVkdWNlcnM6IHtcclxuICAgIHJlcXVlc3RGZXRjaFVzZXJQcm9maWxlKFxyXG4gICAgICBzdGF0ZSxcclxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcclxuICAgICAgICB0YXJnZXRJZDogTW9uZ29vc2VUeXBlcy5PYmplY3RJZDtcclxuICAgICAgfT5cclxuICAgICkge1xyXG4gICAgICBzdGF0ZS5mZXRjaFN0YXR1cyA9IFByb2ZpbGVGZXRjaFN0YXR1c2VzLkFUVEVNUFRJTkc7XHJcbiAgICB9LFxyXG4gICAgZmV0Y2hVc2VyUHJvZmlsZVN1Y2Nlc3MoXHJcbiAgICAgIHN0YXRlLFxyXG4gICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248eyBwcm9maWxlOiBVc2VyUHJvZmlsZVR5cGUgfT5cclxuICAgICkge1xyXG4gICAgICBzdGF0ZS5mZXRjaFN0YXR1cyA9IFByb2ZpbGVGZXRjaFN0YXR1c2VzLlNVQ0NFU1M7XHJcbiAgICAgIHN0YXRlLnByb2ZpbGUgPSBhY3Rpb24ucGF5bG9hZC5wcm9maWxlO1xyXG4gICAgfSxcclxuICAgIGZldGNoVXNlclByb2ZpbGVGYWlsdXJlKHN0YXRlKSB7XHJcbiAgICAgIHN0YXRlLmZldGNoU3RhdHVzID0gUHJvZmlsZUZldGNoU3RhdHVzZXMuRkFJTFVSRTtcclxuICAgICAgc3RhdGUucHJvZmlsZSA9IHVuZGVmaW5lZDtcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgdXNlclByb2ZpbGVBY3Rpb25zID0gdXNlclByb2ZpbGVTbGljZS5hY3Rpb25zO1xyXG5leHBvcnQgZGVmYXVsdCB1c2VyUHJvZmlsZVNsaWNlLnJlZHVjZXI7IiwiaW1wb3J0IHsgVXNlclJlY29yZFNvcnRUeXBlcyB9IGZyb20gXCIuLi8uLi9zdG9yZS9zdGF0dXNlc1wiO1xyXG5pbXBvcnQgeyBVc2VyUmVjb3JkIH0gZnJvbSBcIi4uLy4uL3N0b3JlL3NsaWNlcy91c2VyLXJlY29yZHMtc2xpY2VcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzb3J0QW5kTGltaXRVc2VyUmVjb3JkcyhcclxuICByZWNvcmRzOiBVc2VyUmVjb3JkW10sXHJcbiAgc29ydEJ5OiBVc2VyUmVjb3JkU29ydFR5cGVzLFxyXG4gIGxpbWl0OiBudW1iZXJcclxuKTogVXNlclJlY29yZFtdIHtcclxuICBsZXQgZmlsdGVyZWRSZWNvcmRzID0gWy4uLnJlY29yZHNdO1xyXG5cclxuICBzd2l0Y2ggKHNvcnRCeSkge1xyXG4gICAgY2FzZSBVc2VyUmVjb3JkU29ydFR5cGVzLkhJR0hFU1RfQVZFUkFHRV9TQ09SRTpcclxuICAgICAgZmlsdGVyZWRSZWNvcmRzLnNvcnQoKGEsIGIpID0+IGIuYXZlcmFnZVNjb3JlIC0gYS5hdmVyYWdlU2NvcmUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgVXNlclJlY29yZFNvcnRUeXBlcy5ISUdIRVNUX1NDT1JFOlxyXG4gICAgICBmaWx0ZXJlZFJlY29yZHMuc29ydCgoYSwgYikgPT4gYi50b3RhbFNjb3JlIC0gYS50b3RhbFNjb3JlKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFVzZXJSZWNvcmRTb3J0VHlwZXMuTU9TVF9OQU1FU19DT05UUklCVVRFRDpcclxuICAgICAgZmlsdGVyZWRSZWNvcmRzLnNvcnQoKGEsIGIpID0+IGIubmFtZXNDb250cmlidXRlZCAtIGEubmFtZXNDb250cmlidXRlZCk7XHJcbiAgfVxyXG5cclxuICBmaWx0ZXJlZFJlY29yZHMgPSBmaWx0ZXJlZFJlY29yZHMuc2xpY2UoMCwgbGltaXQpO1xyXG4gIHJldHVybiBmaWx0ZXJlZFJlY29yZHM7XHJcbn1cclxuIiwiZXhwb3J0IGVudW0gVXNlclJlY29yZFNvcnRUeXBlcyB7XHJcbiAgSElHSEVTVF9TQ09SRSxcclxuICBISUdIRVNUX0FWRVJBR0VfU0NPUkUsXHJcbiAgTU9TVF9OQU1FU19DT05UUklCVVRFRFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBCYW5kQ3JlYXRpb25TdGF0dXNlcyB7XHJcbiAgQ1JFQVRJTkcsXHJcbiAgQ1JFQVRFRCxcclxuICBFUlJPUixcclxuICBCQU5EX0VYSVNUUyxcclxuICBOT1RfVFJZSU5HLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBCYW5kU29ydFR5cGVzIHtcclxuICBCRVNULFxyXG4gIFdPUlNULFxyXG4gIE1PU1RfUkVDRU5ULFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBCYW5kU2NvcmVNb2RpZmljYXRpb25TdGF0dXNlcyB7XHJcbiAgQVRURU1QVElORyxcclxuICBTVUNDRVNTLFxyXG4gIEZBSUxVUkUsXHJcbiAgTk9UX1RSWUlORyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gUHJvZmlsZUZldGNoU3RhdHVzZXMge1xyXG4gIEFUVEVNUFRJTkcsXHJcbiAgU1VDQ0VTUyxcclxuICBGQUlMVVJFLFxyXG4gIE5PVF9UUllJTkdcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQXV0aGVudGljYXRpb25TdGF0dXNlcyB7XHJcbiAgQVVUSEVOVElDQVRJTkcsXHJcbiAgQVVUSEVOVElDQVRFRCxcclxuICBOT1RfQVVUSEVOVElDQVRFRCxcclxuICBOT1RfVFJZSU5HLFxyXG4gIFNFUlZFUl9FUlJPUixcclxuICBVU0VSTkFNRV9OT1RfRk9VTkQsXHJcbiAgSU5WQUxJRF9QQVNTV09SRCxcclxuICBMT0dHSU5HX09VVCxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gVXNlckNyZWF0aW9uU3RhdHVzZXMge1xyXG4gIFBST0NFU1NJTkcsXHJcbiAgUEFTU1dPUkRTX0RPTlRfTUFUQ0gsXHJcbiAgVVNFUk5BTUVfVEFLRU4sXHJcbiAgTk9UX1RSWUlORyxcclxuICBTRVJWRVJfRVJST1IsXHJcbiAgU1VDQ0VTUyxcclxuICBFTVBUWV9GSUVMRFMsXHJcbiAgSU5WQUxJRF9FTUFJTCxcclxuICBFTUFJTF9UQUtFTixcclxufVxyXG4iLCJpbXBvcnQgeyB0YWtlLCBwdXQsIGNhbGwgfSBmcm9tIFwicmVkdXgtc2FnYS9lZmZlY3RzXCI7XHJcbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcclxuaW1wb3J0ICogYXMgcGF0aHMgZnJvbSBcIi4uLy4uLy4uL3NlcnZlci9wYXRoc1wiO1xyXG5pbXBvcnQgeyBiYW5kQWN0aW9ucyB9IGZyb20gXCIuLi9zbGljZXMvYmFuZHMtc2xpY2VcIjtcclxuaW1wb3J0IHsgTmV3QmFuZFJlcXVlc3RCb2R5IH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZlci9yb3V0ZS1oYW5kbGVycy9iYW5kc1wiO1xyXG5pbXBvcnQgeyBUeXBlcyBhcyBNb25nb29zZVR5cGVzIH0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCB7IEJhbmRDbGFzcyB9IGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvbW9kZWxzL2JhbmQtbW9kZWxcIjtcclxuaW1wb3J0IHsgQmFuZENyZWF0aW9uU3RhdHVzZXMgfSBmcm9tIFwiLi4vc3RhdHVzZXNcIjtcclxuaW1wb3J0IHsgU2FnYUl0ZXJhdG9yIH0gZnJvbSBcInJlZHV4LXNhZ2FcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogYmFuZENyZWF0aW9uU2FnYSgpIHtcclxuICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgY29uc3QgeyBwYXlsb2FkIH0gPSB5aWVsZCB0YWtlKGJhbmRBY3Rpb25zLnJlcXVlc3RDcmVhdGVCYW5kLnR5cGUpO1xyXG4gICAgY29uc29sZS5sb2coXCJTYWdhIHBheWxvYWQ6IFwiLCBwYXlsb2FkKVxyXG4gICAgY29uc3QgeyBjcmVhdGluZ1VzZXJJZCwgYmFuZE5hbWUsIGNyZWF0aW5nVXNlcm5hbWUgfSA9IHBheWxvYWQ7XHJcbiAgICAvLyBsZXQgbmV3QmFuZCA9IHtcclxuICAgIC8vICAgY3JlYXRpbmdVc2VySWQsXHJcbiAgICAvLyAgIGJhbmROYW1lLFxyXG4gICAgLy8gfTtcclxuICAgIGNvbnN0IHJlcXVlc3RCb2R5OiBOZXdCYW5kUmVxdWVzdEJvZHkgPSB7XHJcbiAgICAgIGJhbmROYW1lLFxyXG4gICAgICBvd25lcklkOiBjcmVhdGluZ1VzZXJJZCxcclxuICAgICAgb3duZXJOYW1lOiBjcmVhdGluZ1VzZXJuYW1lLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChcclxuICAgICAgYXhpb3MucG9zdCxcclxuICAgICAgcGF0aHMuc2VydmVyVXJsICsgcGF0aHMubmV3QmFuZCxcclxuICAgICAgcmVxdWVzdEJvZHlcclxuICAgICk7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9IDIwMCkgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgIGNvbnN0IG5ld0JhbmQ6IEJhbmRDbGFzcyA9IHJlc3BvbnNlLm5ld0JhbmQ7XHJcbiAgICAgIC8vIGxldCB7IF9pZCwgYmFuZE5hbWUsIGNyZWF0aW5nVXNlcklkLCBzY29yZSB9ID0gbmV3QmFuZDtcclxuICAgICAgLy8gbGV0IG5ld0JhbmQ6IEJhbmRDbGFzcyA9IHtcclxuICAgICAgLy8gICBuYW1lOiBiYW5kTmFtZSxcclxuICAgICAgLy8gICBvd25lck5hbWU6IGNyZWF0aW5nVXNlcm5hbWUsXHJcbiAgICAgIC8vICAgb3duZXJJZDogY3JlYXRpbmdVc2VySWQsXHJcbiAgICAgIC8vICAgc2NvcmU6IDAsXHJcbiAgICAgIC8vICAgY3JlYXRlZE9uLFxyXG4gICAgICAvLyAgIF9pZDogbmV3QmFuZElkLFxyXG4gICAgICAvLyB9O1xyXG4gICAgICB5aWVsZCBwdXQoYmFuZEFjdGlvbnMuY3JlYXRlQmFuZFN1Y2Nlc3MobmV3QmFuZCkpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc3QgcmVhc29uOiBCYW5kQ3JlYXRpb25TdGF0dXNlcyA9IHJlc3BvbnNlLmRhdGEucmVhc29uO1xyXG4gICAgICB5aWVsZCBwdXQoYmFuZEFjdGlvbnMuY3JlYXRlQmFuZEZhaWx1cmUocmVhc29uKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IE5hdiBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL05hdlwiO1xyXG5pbXBvcnQgTmF2YmFyIGZyb20gXCJyZWFjdC1ib290c3RyYXAvTmF2YmFyXCI7XHJcbmltcG9ydCB7IGNvbm5lY3QsIENvbm5lY3RlZFByb3BzIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbi8vIGltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcclxuaW1wb3J0IHsgQXV0aGVudGljYXRpb25TdGF0dXNlcyB9IGZyb20gXCIuLi9zdG9yZS9zdGF0dXNlc1wiO1xyXG5pbXBvcnQgeyBMaW5rQ29udGFpbmVyIH0gZnJvbSBcInJlYWN0LXJvdXRlci1ib290c3RyYXBcIjtcclxuaW1wb3J0IHsgc2Vzc2lvbkFjdGlvbnMgfSBmcm9tIFwiLi4vc3RvcmUvc2xpY2VzL3Nlc3Npb24tc2xpY2VcIjtcclxuXHJcbi8vIFVuY29ubmVjdGVkTmF2aWdhdGlvbi5wcm9wVHlwZXMgPSB7XHJcbi8vICAgdXNlcm5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbi8vICAgYXV0aGVudGljYXRpb25TdGF0dXM6IFByb3BUeXBlcy5vbmVPZihPYmplY3QudmFsdWVzKEF1dGhlbnRpY2F0aW9uU3RhdHVzZXMpKSxcclxuLy8gICBsb2dvdXQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbi8vIH07XHJcblxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoeyBzZXNzaW9uIH0pID0+ICh7XHJcbiAgYXV0aGVudGljYXRpb25TdGF0dXM6IHNlc3Npb24uYXV0aGVudGljYXRpb25TdGF0dXMsXHJcbiAgdXNlcm5hbWU6IHNlc3Npb24udXNlcm5hbWUsXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGxvZ291dDogKCkgPT4ge1xyXG4gICAgICBkaXNwYXRjaChzZXNzaW9uQWN0aW9ucy5yZXF1ZXN0TG9nb3V0KCkpO1xyXG4gICAgfSxcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCBjb25uZWN0b3IgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKTtcclxudHlwZSBOYXZpZ2F0aW9uUHJvcHMgPSBDb25uZWN0ZWRQcm9wczx0eXBlb2YgY29ubmVjdG9yPjtcclxuXHJcbi8vIFRPRE86IFNob3VsZCB3ZSBoYXZlIHNvbWUgd2F5IGZvciB1c2VycyB0byBsb2cgb3V0P1xyXG5jb25zdCBVbmNvbm5lY3RlZE5hdmlnYXRpb24gPSAocHJvcHM6IE5hdmlnYXRpb25Qcm9wcykgPT4gKFxyXG4gIDxOYXZiYXIgYmc9XCJsaWdodFwiIGNsYXNzTmFtZT17XCJtYi0zXCJ9PlxyXG4gICAgPExpbmtDb250YWluZXIgdG89XCIvXCI+XHJcbiAgICAgIDxOYXZiYXIuQnJhbmQ+d2FiYWJjPzwvTmF2YmFyLkJyYW5kPlxyXG4gICAgPC9MaW5rQ29udGFpbmVyPlxyXG4gICAgey8qIDxOYXYuSXRlbSBjbGFzc05hbWU9XCJtci1zbS0yXCI+ICovfVxyXG4gICAgICB7cHJvcHMuYXV0aGVudGljYXRpb25TdGF0dXMgPT0gQXV0aGVudGljYXRpb25TdGF0dXNlcy5BVVRIRU5USUNBVEVEID8gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICA8TmF2Lkl0ZW0+U2lnbmVkIGluIGFzIHtwcm9wcy51c2VybmFtZX08L05hdi5JdGVtPlxyXG4gICAgICAgICAgPE5hdi5MaW5rIG9uQ2xpY2s9eygpID0+IHByb3BzLmxvZ291dCgpfT5Mb2dvdXQ8L05hdi5MaW5rPlxyXG4gICAgICAgIDwvPlxyXG4gICAgICApIDogKFxyXG4gICAgICAgIDxMaW5rQ29udGFpbmVyIHRvPVwiL2xvZ2luXCI+XHJcbiAgICAgICAgICA8TmF2Lkxpbms+TG9naW48L05hdi5MaW5rPlxyXG4gICAgICAgIDwvTGlua0NvbnRhaW5lcj5cclxuICAgICAgKX1cclxuICAgIHsvKiA8L05hdi5JdGVtPiAqL31cclxuICA8L05hdmJhcj5cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBOYXZpZ2F0aW9uID0gY29ubmVjdChcclxuICBtYXBTdGF0ZVRvUHJvcHMsXHJcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzXHJcbikoVW5jb25uZWN0ZWROYXZpZ2F0aW9uKTtcclxuIiwiLy8gaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xyXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IGNvbm5lY3QsIENvbm5lY3RlZFByb3BzIH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XHJcbmltcG9ydCB7IGJhbmRBY3Rpb25zIH0gZnJvbSBcIi4uL3N0b3JlL3NsaWNlcy9iYW5kcy1zbGljZVwiO1xyXG5pbXBvcnQgSW5wdXRHcm91cCBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0lucHV0R3JvdXBcIjtcclxuaW1wb3J0IEZvcm1Db250cm9sIGZyb20gXCJyZWFjdC1ib290c3RyYXAvRm9ybUNvbnRyb2xcIjtcclxuaW1wb3J0IEJ1dHRvbiBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0J1dHRvblwiO1xyXG5pbXBvcnQgQWxlcnQgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9BbGVydFwiO1xyXG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblN0YXR1c2VzIH0gZnJvbSBcIi4uL3N0b3JlL3N0YXR1c2VzXCI7XHJcbmltcG9ydCB7IExpbmtDb250YWluZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWJvb3RzdHJhcFwiO1xyXG5cclxuY29uc3QgTm9OYW1lQWxlcnQgPSAoKSA9PiAoXHJcbiAgPEFsZXJ0IHZhcmlhbnQ9XCJkYW5nZXJcIj5cclxuICAgIDxBbGVydC5IZWFkaW5nPlRoaXMgTUYgc2FpZCAmbGRxdW87ICZyZHF1bzs8L0FsZXJ0LkhlYWRpbmc+XHJcbiAgICA8cD5XaG8gYXJlIHlvdT8gSm9obiBDYWdlIFhEPyBKdXN0IGtpZGRpbmcsIGRvbiZhcG9zO3Qga25vdyB3aG8gdGhhdCBpcy48L3A+XHJcbiAgPC9BbGVydD5cclxuKTtcclxuXHJcbmZ1bmN0aW9uIEJhbmRFeGlzdHNBbGVydCgpIHtcclxuICByZXR1cm4gKFxyXG4gICAgPEFsZXJ0IHZhcmlhbnQ9XCJkYW5nZXJcIj5cclxuICAgICAgPEFsZXJ0LkhlYWRpbmc+U29tZWJvZHkgYWxyZWFkeSB0aG91Z2h0IG9mIHRoYXQhPC9BbGVydC5IZWFkaW5nPlxyXG4gICAgICA8cD5cclxuICAgICAgICBHb2luZyB0byBoYXZlIHRvIHRyeSBoYXJkZXIuIE1heWJlIHJlYWQgYSB2ZXJ5IGNvbXBsaWNhdGVkIGJvb2sgYW5kIHRoZW5cclxuICAgICAgICB0aGluayBvZiBzb21lIHJlZmVyZW5jZSB0byB0aGF0LlxyXG4gICAgICA8L3A+XHJcbiAgICA8L0FsZXJ0PlxyXG4gICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVzZXJOb3RMb2dnZWRJbkFsZXJ0KCkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8QWxlcnQgdmFyaWFudD1cIndhcm5pbmdcIj5cclxuICAgICAgPEFsZXJ0LkhlYWRpbmc+WW91JmFwb3M7dmUgZ290dGEgYmUgc2lnbmVkIGluITwvQWxlcnQuSGVhZGluZz5cclxuICAgICAgPHA+XHJcbiAgICAgICAgV2UgZG9uJmFwb3M7dCBsZXQganVzdCBhbnlvbmUgaW4gaGVyZS4gWW91IGNhbntcIiBcIn1cclxuICAgICAgICA8TGlua0NvbnRhaW5lciB0bz1cIi9uZXctdXNlclwiPlxyXG4gICAgICAgICAgPEFsZXJ0Lkxpbms+bWFrZSBhbiBhY2NvdW50IGhlcmU8L0FsZXJ0Lkxpbms+XHJcbiAgICAgICAgPC9MaW5rQ29udGFpbmVyPlxyXG4gICAgICAgICwgdGhvdWdoLCBpZiB5b3Ugd2FudC5cclxuICAgICAgPC9wPlxyXG4gICAgPC9BbGVydD5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBCYW5kQ3JlYXRlZEFsZXJ0KCkge1xyXG4gIHJldHVybiAoXHJcbiAgICA8QWxlcnQgdmFyaWFudD1cInN1Y2Nlc3NcIj5cclxuICAgICAgPEFsZXJ0LkhlYWRpbmc+TmFtZSBzdWJtaXR0ZWQhPC9BbGVydC5IZWFkaW5nPlxyXG4gICAgICA8cD5Ob3cgdGhhdCZhcG9zO3MgZnVubnkuPC9wPlxyXG4gICAgPC9BbGVydD5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgYXV0aGVudGljYXRpb25TdGF0dXM6IHN0YXRlLnNlc3Npb24uYXV0aGVudGljYXRpb25TdGF0dXMsXHJcbiAgICB1c2VySWQ6IHN0YXRlLnNlc3Npb24udXNlcklkLFxyXG4gICAgdXNlcm5hbWU6IHN0YXRlLnNlc3Npb24udXNlcm5hbWUsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGNyZWF0ZUJhbmQ6ICh1c2VySWQsIHVzZXJuYW1lLCBiYW5kTmFtZSkgPT4ge1xyXG4gICAgICBkaXNwYXRjaChcclxuICAgICAgICBiYW5kQWN0aW9ucy5yZXF1ZXN0Q3JlYXRlQmFuZCh7XHJcbiAgICAgICAgICBjcmVhdGluZ1VzZXJJZDogdXNlcklkLFxyXG4gICAgICAgICAgY3JlYXRpbmdVc2VybmFtZTogdXNlcm5hbWUsXHJcbiAgICAgICAgICBiYW5kTmFtZSxcclxuICAgICAgICB9KVxyXG4gICAgICApO1xyXG4gICAgfSxcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCByZWR1eENvbm5lY3RvciA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpO1xyXG50eXBlIENyZWF0ZUJhbmRGb3JtUHJvcHMgPSBDb25uZWN0ZWRQcm9wczx0eXBlb2YgcmVkdXhDb25uZWN0b3I+O1xyXG5cclxudHlwZSBDcmVhdGVCYW5kRm9ybVN0YXRlID0ge1xyXG4gIGJhbmROYW1lOiBzdHJpbmc7XHJcbiAgZGlzcGxheUJhbmRFeGlzdHNBbGVydDogYm9vbGVhbjtcclxuICBkaXNwbGF5VXNlck5vdExvZ2dlZEluOiBib29sZWFuO1xyXG4gIGRpc3BsYXlOb05hbWVBbGVydDogYm9vbGVhbjtcclxuICBkaXNwbGF5UHJvZ2VzczogYm9vbGVhbjtcclxuICBkaXNwbGF5U3VjY2VzczogYm9vbGVhbjtcclxufTtcclxuXHJcbmNsYXNzIFVuY29ubmVjdGVkQ3JlYXRlQmFuZEZvcm0gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8XHJcbiAgQ3JlYXRlQmFuZEZvcm1Qcm9wcyxcclxuICBDcmVhdGVCYW5kRm9ybVN0YXRlXHJcbj4ge1xyXG4gIHN0YXRlID0ge1xyXG4gICAgYmFuZE5hbWU6IFwiXCIsXHJcbiAgICBkaXNwbGF5QmFuZEV4aXN0c0FsZXJ0OiBmYWxzZSxcclxuICAgIGRpc3BsYXlVc2VyTm90TG9nZ2VkSW46IGZhbHNlLFxyXG4gICAgZGlzcGxheU5vTmFtZUFsZXJ0OiBmYWxzZSxcclxuICAgIGRpc3BsYXlQcm9nZXNzOiBmYWxzZSxcclxuICAgIGRpc3BsYXlTdWNjZXNzOiBmYWxzZSxcclxuICB9O1xyXG5cclxuICBoYW5kbGVDbGljaygpIHtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5wcm9wcy5hdXRoZW50aWNhdGlvblN0YXR1cyA9PSBBdXRoZW50aWNhdGlvblN0YXR1c2VzLkFVVEhFTlRJQ0FURURcclxuICAgICkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0ZS5iYW5kTmFtZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBkaXNwbGF5QmFuZEV4aXN0c0FsZXJ0OiBmYWxzZSxcclxuICAgICAgICAgIGRpc3BsYXlVc2VyTm90TG9nZ2VkSW46IGZhbHNlLFxyXG4gICAgICAgICAgZGlzcGxheU5vTmFtZUFsZXJ0OiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMucHJvcHMuY3JlYXRlQmFuZChcclxuICAgICAgICAgIHRoaXMucHJvcHMudXNlcklkLFxyXG4gICAgICAgICAgdGhpcy5wcm9wcy51c2VybmFtZSxcclxuICAgICAgICAgIHRoaXMuc3RhdGUuYmFuZE5hbWVcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgZGlzcGxheUJhbmRFeGlzdHNBbGVydDogZmFsc2UsXHJcbiAgICAgICAgICBkaXNwbGF5VXNlck5vdExvZ2dlZEluOiBmYWxzZSxcclxuICAgICAgICAgIGRpc3BsYXlOb05hbWVBbGVydDogZmFsc2UsXHJcbiAgICAgICAgICBkaXNwbGF5UHJvZ2VzczogZmFsc2UsXHJcbiAgICAgICAgICBkaXNwbGF5U3VjY2VzczogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgZGlzcGxheUJhbmRFeGlzdHNBbGVydDogZmFsc2UsXHJcbiAgICAgICAgZGlzcGxheVVzZXJOb3RMb2dnZWRJbjogdHJ1ZSxcclxuICAgICAgICBkaXNwbGF5Tm9OYW1lQWxlcnQ6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZGlzcGxheUJhbmRFeGlzdHNBbGVydCxcclxuICAgICAgZGlzcGxheU5vTmFtZUFsZXJ0LFxyXG4gICAgICBkaXNwbGF5UHJvZ2VzcyxcclxuICAgICAgZGlzcGxheVVzZXJOb3RMb2dnZWRJbixcclxuICAgICAgZGlzcGxheVN1Y2Nlc3MsXHJcbiAgICB9ID0gdGhpcy5zdGF0ZTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtcIm1iLTNcIn0+XHJcbiAgICAgICAgPElucHV0R3JvdXAgc2l6ZT1cImxnXCI+XHJcbiAgICAgICAgICA8Rm9ybUNvbnRyb2xcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldoYXQgYWJvdXQgYSBiYW5kIGNhbGxlZC4uLlwiXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5zZXRTdGF0ZSh7IGJhbmROYW1lOiBlLnRhcmdldC52YWx1ZSB9KX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8SW5wdXRHcm91cC5BcHBlbmQ+XHJcbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cInByaW1hcnlcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNsaWNrKCl9PlxyXG4gICAgICAgICAgICAgIFN1Ym1pdFxyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDwvSW5wdXRHcm91cC5BcHBlbmQ+XHJcbiAgICAgICAgPC9JbnB1dEdyb3VwPlxyXG4gICAgICAgIHtkaXNwbGF5VXNlck5vdExvZ2dlZEluID8gPFVzZXJOb3RMb2dnZWRJbkFsZXJ0IC8+IDogbnVsbH1cclxuICAgICAgICB7ZGlzcGxheU5vTmFtZUFsZXJ0ID8gPE5vTmFtZUFsZXJ0IC8+IDogbnVsbH1cclxuICAgICAgICB7ZGlzcGxheUJhbmRFeGlzdHNBbGVydCA/IDxCYW5kRXhpc3RzQWxlcnQgLz4gOiBudWxsfVxyXG4gICAgICAgIHtkaXNwbGF5U3VjY2VzcyA/IDxCYW5kQ3JlYXRlZEFsZXJ0IC8+IDogbnVsbH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENyZWF0ZUJhbmRGb3JtID0gY29ubmVjdChcclxuICBtYXBTdGF0ZVRvUHJvcHMsXHJcbiAgbWFwRGlzcGF0Y2hUb1Byb3BzXHJcbikoVW5jb25uZWN0ZWRDcmVhdGVCYW5kRm9ybSk7XHJcbiIsImNvbnN0IG1zSW5NaW51dGUgPSA2MDAwMDtcclxuY29uc3QgbXNJbkhvdXIgPSBtc0luTWludXRlICogNjA7XHJcbmNvbnN0IG1zSW5EYXkgPSBtc0luSG91ciAqIDI0O1xyXG5jb25zdCBtc0luWWVhciA9IG1zSW5EYXkgKiAzNjU7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZVNpbmNlKGRhdGU6IERhdGUpOiBzdHJpbmcge1xyXG4gIGNvbnN0IGVsYXBzZWRUaW1lID0gRGF0ZS5ub3coKSAtIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XHJcbiAgaWYgKGVsYXBzZWRUaW1lIDwgbXNJbk1pbnV0ZSkge1xyXG4gICAgcmV0dXJuIFwiMW1cIjtcclxuICB9XHJcbiAgaWYgKGVsYXBzZWRUaW1lIDwgbXNJbkhvdXIpIHtcclxuICAgIGNvbnN0IG51bU9mTWludXRlcyA9IE1hdGguZmxvb3IoZWxhcHNlZFRpbWUgLyBtc0luTWludXRlKTtcclxuICAgIHJldHVybiBgJHtudW1PZk1pbnV0ZXN9bWA7XHJcbiAgfVxyXG4gIGlmIChlbGFwc2VkVGltZSA8IG1zSW5EYXkpIHtcclxuICAgIGNvbnN0IG51bU9mSG91cnMgPSBNYXRoLmZsb29yKGVsYXBzZWRUaW1lIC8gbXNJbkhvdXIpO1xyXG4gICAgY29uc3QgbnVtT2ZNaW51dGVzID0gTWF0aC5mbG9vcigoZWxhcHNlZFRpbWUgJSBtc0luSG91cikgLyBtc0luTWludXRlKTtcclxuICAgIGxldCBzdHJpbmcgPSBgJHtudW1PZkhvdXJzfWhgO1xyXG4gICAgaWYgKG51bU9mTWludXRlcyA+IDApIHN0cmluZyArPSBgICR7bnVtT2ZNaW51dGVzfW1gO1xyXG4gICAgcmV0dXJuIHN0cmluZztcclxuICB9XHJcbiAgaWYgKGVsYXBzZWRUaW1lIDwgbXNJblllYXIpIHtcclxuICAgIGNvbnN0IG51bU9mRGF5cyA9IE1hdGguZmxvb3IoZWxhcHNlZFRpbWUgLyBtc0luRGF5KTtcclxuICAgIHJldHVybiBgJHtudW1PZkRheXN9ZGA7XHJcbiAgfVxyXG4gIGNvbnN0IG51bU9mWWVhcnMgPSBNYXRoLmZsb29yKGVsYXBzZWRUaW1lIC8gbXNJblllYXIpO1xyXG4gIGNvbnN0IG51bU9mRGF5cyA9IE1hdGguZmxvb3IoKGVsYXBzZWRUaW1lICUgbXNJblllYXIpIC8gbXNJbkRheSk7XHJcbiAgbGV0IHN0cmluZyA9IGAke251bU9mWWVhcnN9eWA7XHJcbiAgaWYgKG51bU9mRGF5cyA+IDApIHN0cmluZyArPSBgICR7bnVtT2ZEYXlzfWRgO1xyXG4gIHJldHVybiBzdHJpbmc7XHJcbn1cclxuIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5pbXBvcnQgeyBhY3Rpb25DaGFubmVsLCBjYWxsLCBwdXQsIHRha2UgfSBmcm9tIFwicmVkdXgtc2FnYS9lZmZlY3RzXCI7XHJcbmltcG9ydCAqIGFzIHBhdGhzIGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvcGF0aHNcIjtcclxuaW1wb3J0IHsgYmFuZEFjdGlvbnMgfSBmcm9tIFwiLi4vc2xpY2VzL2JhbmRzLXNsaWNlXCI7XHJcbmltcG9ydCB7IEJhbmRDbGFzcyB9IGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvbW9kZWxzL2JhbmQtbW9kZWxcIjtcclxuaW1wb3J0IHsgU2FnYUl0ZXJhdG9yIH0gZnJvbSBcInJlZHV4LXNhZ2FcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogd2F0Y2hGZXRjaEJhbmRzU2FnYSgpOiBTYWdhSXRlcmF0b3Ige1xyXG4gIGNvbnN0IGZldGNoQmFuZHNDaGFubmVsID0geWllbGQgYWN0aW9uQ2hhbm5lbChcclxuICAgIGJhbmRBY3Rpb25zLnJlcXVlc3RGZXRjaEJhbmRzLnR5cGVcclxuICApO1xyXG4gIHdoaWxlICh0cnVlKSB7XHJcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IHlpZWxkIHRha2UoZmV0Y2hCYW5kc0NoYW5uZWwpO1xyXG4gICAgY29uc3QgeyBtYXhCYW5kcywgc29ydEJ5IH0gPSBwYXlsb2FkO1xyXG4gICAgeWllbGQgY2FsbChmZXRjaEJhbmRzLCBtYXhCYW5kcywgc29ydEJ5KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogZmV0Y2hCYW5kcyhtYXhCYW5kcywgc29ydEJ5KSB7XHJcbiAgbGV0IHJlc3BvbnNlO1xyXG4gIHRyeSB7XHJcbiAgICByZXNwb25zZSA9IHlpZWxkIGNhbGwoYXhpb3MucG9zdCwgcGF0aHMuc2VydmVyVXJsICsgcGF0aHMucG9zdEJhbmRzLCB7XHJcbiAgICAgIG1heEJhbmRzLFxyXG4gICAgICBzb3J0QnksXHJcbiAgICB9KTtcclxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT0gMjAwKSB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgIHlpZWxkIHB1dChiYW5kQWN0aW9ucy5mZXRjaEJhbmRzU3VjY2VzcyhyZXNwb25zZS5kYXRhKSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHlpZWxkIHB1dChiYW5kQWN0aW9ucy5mZXRjaEJhbmRzRmFpbHVyZSgpKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5pbXBvcnQgeyBjYWxsLCBwdXQsIHRha2UgfSBmcm9tIFwicmVkdXgtc2FnYS9lZmZlY3RzXCI7XHJcbmltcG9ydCAqIGFzIHBhdGhzIGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvcGF0aHNcIjtcclxuaW1wb3J0IHsgc2Vzc2lvbkFjdGlvbnMgfSBmcm9tIFwiLi4vc2xpY2VzL3Nlc3Npb24tc2xpY2VcIjtcclxuaW1wb3J0IHsgU2FnYUl0ZXJhdG9yIH0gZnJvbSBcInJlZHV4LXNhZ2FcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogdXNlckF1dGhlbnRpY2F0aW9uU2FnYSgpIHtcclxuICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgY29uc3QgeyBwYXlsb2FkIH0gPSB5aWVsZCB0YWtlKHNlc3Npb25BY3Rpb25zLnJlcXVlc3RBdXRoZW50aWNhdGVVc2VyLnR5cGUpO1xyXG4gICAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHBheWxvYWQ7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoXHJcbiAgICAgICAgYXhpb3MucG9zdCxcclxuICAgICAgICBwYXRocy5zZXJ2ZXJVcmwgKyBwYXRocy5hdXRoZW50aWNhdGUsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgICBwYXNzd29yZCxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IHsgdXNlcklkLCBiYW5kc01vZGlmaWVkIH0gPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICBjb25zb2xlLmxvZyhcImJhbmRzTW9kaWZpZWQgaW4gdXNlckF1dGhlbnRpY2F0aW9uU2FnYTogXCIsIGJhbmRzTW9kaWZpZWQpO1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgIHlpZWxkIHB1dChcclxuICAgICAgICAgIHNlc3Npb25BY3Rpb25zLmF1dGhlbnRpY2F0ZVVzZXJTdWNjZXNzKHtcclxuICAgICAgICAgICAgdXNlcklkLFxyXG4gICAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgICAgYmFuZHNNb2RpZmllZCxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGlmIChlcnIucmVzcG9uc2UpIHtcclxuICAgICAgICB5aWVsZCBwdXQoXHJcbiAgICAgICAgICBzZXNzaW9uQWN0aW9ucy5hdXRoZW50aWNhdGVVc2VyRmFpbHVyZSh7XHJcbiAgICAgICAgICAgIHJlYXNvbjogZXJyLnJlc3BvbnNlLmRhdGEucmVhc29uLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIGltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcclxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJyZWFjdC1ib290c3RyYXAvQnV0dG9uXCI7XHJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9Db250YWluZXJcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9DYXJkXCI7XHJcbmltcG9ydCBBbGVydCBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0FsZXJ0XCI7XHJcbmltcG9ydCBGb3JtIGZyb20gXCJyZWFjdC1ib290c3RyYXAvRm9ybVwiO1xyXG5pbXBvcnQgeyBjb25uZWN0LCBDb25uZWN0ZWRQcm9wcyB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgeyBVc2VyQ3JlYXRpb25TdGF0dXNlcyB9IGZyb20gXCIuLi9zdG9yZS9zdGF0dXNlc1wiO1xyXG5pbXBvcnQgeyBzZXNzaW9uQWN0aW9ucyB9IGZyb20gXCIuLi9zdG9yZS9zbGljZXMvc2Vzc2lvbi1zbGljZVwiO1xyXG5pbXBvcnQgU3Bpbm5lciBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL1NwaW5uZXJcIjtcclxuXHJcbi8vIFVuY29ubmVjdGVkTmV3VXNlckZvcm0ucHJvcFR5cGVzID0ge1xyXG4vLyAgIHN1Ym1pdEZvcm06IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbi8vICAgdXNlckNyZWF0aW9uU3RhdHVzOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LnZhbHVlcyhVc2VyQ3JlYXRpb25TdGF0dXNlcykpLFxyXG4vLyB9O1xyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHsgc2Vzc2lvbiB9KSA9PiAoe1xyXG4gIHVzZXJDcmVhdGlvblN0YXR1czogc2Vzc2lvbi51c2VyQ3JlYXRpb25TdGF0dXMsXHJcbn0pO1xyXG5cclxuY29uc3QgbWFwRGlzcGF0Y2hUb1Byb3BzID0gKGRpc3BhdGNoKSA9PiAoe1xyXG4gIHN1Ym1pdEZvcm06ICgvKmVtYWlsLCovIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVwZWF0UGFzc3dvcmQpID0+XHJcbiAgICBkaXNwYXRjaChcclxuICAgICAgc2Vzc2lvbkFjdGlvbnMucmVxdWVzdENyZWF0ZVVzZXIoe1xyXG4gICAgICAgIC8vIGVtYWlsLFxyXG4gICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgIHBhc3N3b3JkLFxyXG4gICAgICAgIHJlcGVhdFBhc3N3b3JkLFxyXG4gICAgICB9KVxyXG4gICAgKSxcclxufSk7XHJcblxyXG5jb25zdCByZWR1eENvbm5lY3RvciA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpO1xyXG50eXBlIE5ld1VzZXJGb3JtUHJvcHMgPSBDb25uZWN0ZWRQcm9wczx0eXBlb2YgcmVkdXhDb25uZWN0b3I+O1xyXG5cclxudHlwZSBOZXdVc2VyRm9ybVN0YXRlID0ge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgdXNlcm5hbWU6IHN0cmluZztcclxuICBwYXNzd29yZDogc3RyaW5nO1xyXG4gIHJlcGVhdFBhc3N3b3JkOiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgVW5jb25uZWN0ZWROZXdVc2VyRm9ybSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxcclxuICBOZXdVc2VyRm9ybVByb3BzLFxyXG4gIE5ld1VzZXJGb3JtU3RhdGVcclxuPiB7XHJcbiAgc3RhdGUgPSB7XHJcbiAgICBlbWFpbDogXCJcIixcclxuICAgIHVzZXJuYW1lOiBcIlwiLFxyXG4gICAgcGFzc3dvcmQ6IFwiXCIsXHJcbiAgICByZXBlYXRQYXNzd29yZDogXCJcIixcclxuICB9O1xyXG5cclxuICAvLyBUT0RPOiBXb3VsZG4ndCBpdCBiZSBlYXN5IHRvIG1ha2UgaXQgc28gdGhlIGVtYWlsIGlzIHZhbGlkYXRlZCBhcyB0aGUgdXNlciB0eXBlcz8gTWF5YmUgb24gYSBzbGlnaHQgZGVsYXk/IFNhbWUgd2l0aCB0aGUgdXNlcm5hbWUgYW5kIHBhc3N3b3JkP1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IHVzZXJDcmVhdGlvblN0YXR1cyB9ID0gdGhpcy5wcm9wcztcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxDb250YWluZXI+XHJcbiAgICAgICAgPENhcmQgc3R5bGU9e3sgbWF4V2lkdGg6IFwiMzZyZW1cIiB9fSBjbGFzc05hbWU9XCJteC1hdXRvXCI+XHJcbiAgICAgICAgICA8Q2FyZC5Cb2R5PlxyXG4gICAgICAgICAgICA8Rm9ybT5cclxuICAgICAgICAgICAgICB7LyogPEZvcm0uR3JvdXAgY29udHJvbElkPVwiZm9ybU5ld1VzZXJFbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgPEZvcm0uTGFiZWw+RW1haWwgQWRkcmVzczwvRm9ybS5MYWJlbD5cclxuICAgICAgICAgICAgICAgIDxGb3JtLkNvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMuc2V0U3RhdGUoeyBlbWFpbDogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAgIGlzSW52YWxpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51c2VyQ3JlYXRpb25TdGF0dXMgPT1cclxuICAgICAgICAgICAgICAgICAgICBVc2VyQ3JlYXRpb25TdGF0dXNlcy5JTlZBTElEX0VNQUlMXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8Rm9ybS5Db250cm9sLkZlZWRiYWNrIHR5cGU9XCJpbnZhbGlkXCI+XHJcbiAgICAgICAgICAgICAgICAgIFBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXHJcbiAgICAgICAgICAgICAgICA8L0Zvcm0uQ29udHJvbC5GZWVkYmFjaz5cclxuICAgICAgICAgICAgICA8L0Zvcm0uR3JvdXA+ICovfVxyXG4gICAgICAgICAgICAgIDxGb3JtLkdyb3VwIGNvbnRyb2xJZD1cImZvcm1OZXdVc2VyTmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgPEZvcm0uTGFiZWw+VXNlcm5hbWU8L0Zvcm0uTGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8Rm9ybS5Db250cm9sXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLnNldFN0YXRlKHsgdXNlcm5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgICBpc0ludmFsaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXNlckNyZWF0aW9uU3RhdHVzID09XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlckNyZWF0aW9uU3RhdHVzZXMuVVNFUk5BTUVfVEFLRU5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxGb3JtLkNvbnRyb2wuRmVlZGJhY2sgdHlwZT1cImludmFsaWRcIj5cclxuICAgICAgICAgICAgICAgICAgVXNlcm5hbWUgaXMgYWxyZWFkeSB0YWtlbi5cclxuICAgICAgICAgICAgICAgIDwvRm9ybS5Db250cm9sLkZlZWRiYWNrPlxyXG4gICAgICAgICAgICAgIDwvRm9ybS5Hcm91cD5cclxuICAgICAgICAgICAgICA8Rm9ybS5Hcm91cCBjb250cm9sSWQ9XCJmb3JtTmV3VXNlclBhc3N3b3JkXCI+XHJcbiAgICAgICAgICAgICAgICA8Rm9ybS5MYWJlbD5QYXNzd29yZDwvRm9ybS5MYWJlbD5cclxuICAgICAgICAgICAgICAgIDxGb3JtLkNvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLnNldFN0YXRlKHsgcGFzc3dvcmQ6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgICBpc0ludmFsaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXNlckNyZWF0aW9uU3RhdHVzID09XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlckNyZWF0aW9uU3RhdHVzZXMuUEFTU1dPUkRTX0RPTlRfTUFUQ0hcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L0Zvcm0uR3JvdXA+XHJcbiAgICAgICAgICAgICAgPEZvcm0uR3JvdXAgY29udHJvbElkPVwiZm9ybU5ld1VzZXJSZXBlYXRQYXNzd29yZFwiPlxyXG4gICAgICAgICAgICAgICAgPEZvcm0uTGFiZWw+UmVwZWF0IFBhc3N3b3JkPC9Gb3JtLkxhYmVsPlxyXG4gICAgICAgICAgICAgICAgPEZvcm0uQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlcGVhdFBhc3N3b3JkOiBlLnRhcmdldC52YWx1ZSB9KVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGlzSW52YWxpZD17XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51c2VyQ3JlYXRpb25TdGF0dXMgPT1cclxuICAgICAgICAgICAgICAgICAgICBVc2VyQ3JlYXRpb25TdGF0dXNlcy5QQVNTV09SRFNfRE9OVF9NQVRDSFxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPEZvcm0uQ29udHJvbC5GZWVkYmFjayB0eXBlPVwiaW52YWxpZFwiPlxyXG4gICAgICAgICAgICAgICAgICBQYXNzd29yZHMgZG9uJmFwb3M7dCBtYXRjaC5cclxuICAgICAgICAgICAgICAgIDwvRm9ybS5Db250cm9sLkZlZWRiYWNrPlxyXG4gICAgICAgICAgICAgIDwvRm9ybS5Hcm91cD5cclxuICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy51c2VyQ3JlYXRpb25TdGF0dXMgPT1cclxuICAgICAgICAgICAgICAgICAgICBVc2VyQ3JlYXRpb25TdGF0dXNlcy5QUk9DRVNTSU5HIHx8XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudXNlckNyZWF0aW9uU3RhdHVzID09IFVzZXJDcmVhdGlvblN0YXR1c2VzLlNVQ0NFU1NcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc3VibWl0Rm9ybShcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnN0YXRlLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5wYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnJlcGVhdFBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBTdWJtaXRcclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy51c2VyQ3JlYXRpb25TdGF0dXMgPT1cclxuICAgICAgICAgICAgICAgIFVzZXJDcmVhdGlvblN0YXR1c2VzLlNVQ0NFU1MgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEFsZXJ0IHZhcmlhbnQ9XCJzdWNjZXNzXCI+XHJcbiAgICAgICAgICAgICAgICAgIEFjY291bnQgY3JlYXRlZCEgWW91IG1heSBub3cgPGEgaHJlZj1cIi9sb2dpblwiPmxvZyBpbjwvYT4uXHJcbiAgICAgICAgICAgICAgICA8L0FsZXJ0PlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAge3VzZXJDcmVhdGlvblN0YXR1cyA9PSBVc2VyQ3JlYXRpb25TdGF0dXNlcy5QUk9DRVNTSU5HICYmIChcclxuICAgICAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PVwiaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICA8U3Bpbm5lciBhbmltYXRpb249XCJib3JkZXJcIiB2YXJpYW50PVwicHJpbWFyeVwiIC8+IFByb2Nlc3NpbmcuLi5cclxuICAgICAgICAgICAgICAgIDwvQWxlcnQ+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9Gb3JtPlxyXG4gICAgICAgICAgPC9DYXJkLkJvZHk+XHJcbiAgICAgICAgPC9DYXJkPlxyXG4gICAgICA8L0NvbnRhaW5lcj5cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTmV3VXNlckZvcm0gPSBjb25uZWN0KFxyXG4gIG1hcFN0YXRlVG9Qcm9wcyxcclxuICBtYXBEaXNwYXRjaFRvUHJvcHNcclxuKShVbmNvbm5lY3RlZE5ld1VzZXJGb3JtKTtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBSb290U3RhdGUgfSBmcm9tIFwiLi4vc3RvcmVcIjtcclxuaW1wb3J0IHsgY29ubmVjdCwgQ29ubmVjdGVkUHJvcHMgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IHsgVHlwZXMgYXMgTW9uZ29vc2VUeXBlcyB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQge1xyXG4gIFVzZXJQcm9maWxlVHlwZSxcclxuICB1c2VyUHJvZmlsZUFjdGlvbnMsXHJcbn0gZnJvbSBcIi4uL3N0b3JlL3NsaWNlcy91c2VyLXByb2ZpbGUtc2xpY2VcIjtcclxuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL2VzbS9Db250YWluZXJcIjtcclxuaW1wb3J0IFJvdyBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL1Jvd1wiO1xyXG5pbXBvcnQgQ29sIGZyb20gXCJyZWFjdC1ib290c3RyYXAvQ29sXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCJyZWFjdC1ib290c3RyYXAvQ2FyZFwiO1xyXG5pbXBvcnQgVGFibGUgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9lc20vVGFibGVcIjtcclxuaW1wb3J0IEJhZGdlIGZyb20gXCJyZWFjdC1ib290c3RyYXAvZXNtL0JhZGdlXCI7XHJcbmltcG9ydCB7IGdldFRpbWVTaW5jZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL3V0aWxpdHkvZ2V0LXRpbWUtc2luY2VcIjtcclxuXHJcbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZTogUm9vdFN0YXRlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGZldGNoU3RhdHVzOiBzdGF0ZS51c2VyUHJvZmlsZS5mZXRjaFN0YXR1cyxcclxuICAgIHByb2ZpbGU6IHN0YXRlLnVzZXJQcm9maWxlLnByb2ZpbGUsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlcXVlc3RGZXRjaFByb2ZpbGU6ICh0YXJnZXRJZDogTW9uZ29vc2VUeXBlcy5PYmplY3RJZCkgPT4ge1xyXG4gICAgICBkaXNwYXRjaCh1c2VyUHJvZmlsZUFjdGlvbnMucmVxdWVzdEZldGNoVXNlclByb2ZpbGUoeyB0YXJnZXRJZCB9KSk7XHJcbiAgICB9LFxyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IHJlZHV4Q29ubmVjdG9yID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcyk7XHJcbnR5cGUgVXNlclByb2ZpbGVQcm9wcyA9IENvbm5lY3RlZFByb3BzPHR5cGVvZiByZWR1eENvbm5lY3Rvcj4gJiB7XHJcbiAgaWQ6IE1vbmdvb3NlVHlwZXMuT2JqZWN0SWQ7XHJcbn07XHJcblxyXG5jbGFzcyBVbmNvbm5lY3RlZFVzZXJQcm9maWxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFVzZXJQcm9maWxlUHJvcHM+IHtcclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHRoaXMucHJvcHMucmVxdWVzdEZldGNoUHJvZmlsZSh0aGlzLnByb3BzLmlkKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IHsgcHJvZmlsZSB9ID0gdGhpcy5wcm9wcztcclxuICAgIGlmIChwcm9maWxlKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPENvbnRhaW5lcj5cclxuICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICA8Q2FyZC5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgPGg1Pntwcm9maWxlLm5hbWV9PC9oNT5cclxuICAgICAgICAgICAgPC9DYXJkLkhlYWRlcj5cclxuICAgICAgICAgICAgPENhcmQuQm9keT5cclxuICAgICAgICAgICAgICA8Q2FyZD5cclxuICAgICAgICAgICAgICAgIDxDYXJkLkJvZHk+XHJcbiAgICAgICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgPENvbCBtZD17NH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBUb3RhbCBzY29yZTogPGI+e3Byb2ZpbGUudG90YWxTY29yZX08L2I+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEF2ZXJhZ2Ugc2NvcmU6IDxiPntwcm9maWxlLmF2ZXJhZ2VTY29yZX08L2I+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWVzIGNvbnRyaWJ1dGVkOiA8Yj57cHJvZmlsZS5uYW1lc0NvbnRyaWJ1dGVkfTwvYj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvQ29sPlxyXG4gICAgICAgICAgICAgICAgICAgIDxDb2wgbWQ9ezh9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRhYmxlIHNpemU9XCJzbVwiIHN0cmlwZWQgYm9yZGVyZWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvZmlsZS5iYW5kcy5tYXAoKGJhbmQpID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e1N0cmluZyhiYW5kLl9pZCl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIj57YmFuZC5zY29yZX08L0JhZGdlPntcIiBcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Yj57YmFuZC5uYW1lfTwvYj4gKGNyZWF0ZWQge2dldFRpbWVTaW5jZShuZXcgRGF0ZShiYW5kLmNyZWF0ZWRPbikpfSBhZ28pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgICA8L0NhcmQuQm9keT5cclxuICAgICAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgICAgIDwvQ2FyZC5Cb2R5PlxyXG4gICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgVXNlclByb2ZpbGUgPSByZWR1eENvbm5lY3RvcihVbmNvbm5lY3RlZFVzZXJQcm9maWxlKTtcclxuIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5pbXBvcnQgeyBhY3Rpb25DaGFubmVsLCBjYWxsLCBwdXQsIHRha2UgfSBmcm9tIFwicmVkdXgtc2FnYS9lZmZlY3RzXCI7XHJcbmltcG9ydCAqIGFzIHBhdGhzIGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvcGF0aHNcIjtcclxuaW1wb3J0IHsgdXNlclJlY29yZHNBY3Rpb25zIH0gZnJvbSBcIi4uL3NsaWNlcy91c2VyLXJlY29yZHMtc2xpY2VcIjtcclxuaW1wb3J0IHsgU2FnYUl0ZXJhdG9yIH0gZnJvbSBcInJlZHV4LXNhZ2FcIjtcclxuaW1wb3J0IHsgVXNlclJlY29yZFNvcnRUeXBlcyB9IGZyb20gXCIuLi8uLi9zdG9yZS9zdGF0dXNlc1wiO1xyXG5pbXBvcnQgeyBVc2VyUmVjb3Jkc1JlcXVlc3RCb2R5IH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZlci9yb3V0ZS1oYW5kbGVycy91c2VyLXJlY29yZHNcIjtcclxuaW1wb3J0IHsgYmFuZEFjdGlvbnMgfSBmcm9tIFwiLi4vc2xpY2VzL2JhbmRzLXNsaWNlXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24qIHdhdGNoRmV0Y2hVc2VyUmVjb3Jkc1NhZ2EoKTogU2FnYUl0ZXJhdG9yIHtcclxuICBjb25zdCBmZXRjaFVzZXJSZWNvcmRzQ2hhbm5lbCA9IHlpZWxkIGFjdGlvbkNoYW5uZWwoXHJcbiAgICB1c2VyUmVjb3Jkc0FjdGlvbnMucmVxdWVzdEZldGNoVXNlclJlY29yZHMudHlwZVxyXG4gICk7XHJcbiAgd2hpbGUgKHRydWUpIHtcclxuICAgIGNvbnN0IHsgcGF5bG9hZCB9ID0geWllbGQgdGFrZShmZXRjaFVzZXJSZWNvcmRzQ2hhbm5lbCk7XHJcbiAgICBjb25zdCB7IG51bU9mUmVjb3Jkcywgc29ydFR5cGUgfSA9IHBheWxvYWQ7XHJcbiAgICB5aWVsZCBjYWxsKGZldGNoVXNlclJlY29yZHMsIG51bU9mUmVjb3Jkcywgc29ydFR5cGUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uKiBmZXRjaFVzZXJSZWNvcmRzKFxyXG4gIG1heFJlY29yZHM6IG51bWJlcixcclxuICBzb3J0Qnk6IFVzZXJSZWNvcmRTb3J0VHlwZXNcclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChcclxuICAgICAgYXhpb3MucG9zdCxcclxuICAgICAgcGF0aHMuc2VydmVyVXJsICsgcGF0aHMuZ2V0VXNlclJlY29yZHMsXHJcbiAgICAgIHsgbnVtT2ZSZWNvcmRzOiBtYXhSZWNvcmRzLCBzb3J0VHlwZTogc29ydEJ5IH1cclxuICAgICk7XHJcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9IDIwMCkgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICB5aWVsZCBwdXQodXNlclJlY29yZHNBY3Rpb25zLmZldGNoVXNlclJlY29yZHNTdWNjZXNzKHJlc3BvbnNlLmRhdGEpKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgeWllbGQgcHV0KHVzZXJSZWNvcmRzQWN0aW9ucy5mZXRjaFVzZXJSZWNvcmRzRmFpbHVyZSgpKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5pbXBvcnQgeyBjYWxsLCBwdXQsIHRha2UgfSBmcm9tIFwicmVkdXgtc2FnYS9lZmZlY3RzXCI7XHJcbmltcG9ydCAqIGFzIHBhdGhzIGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvcGF0aHNcIjtcclxuaW1wb3J0IHsgYmFuZEFjdGlvbnMgfSBmcm9tIFwiLi4vc2xpY2VzL2JhbmRzLXNsaWNlXCI7XHJcbmltcG9ydCB7IFNhZ2FJdGVyYXRvciB9IGZyb20gXCJyZWR1eC1zYWdhXCI7XHJcblxyXG4vLyBUT0RPOiBUaGlzIGRvZXNuJ3Qgd29yayByaWdodCBvbiB0aGUgZGF0YWJhc2Ugc2lkZSFcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogYmFuZFNjb3JlTW9kaWZpY2F0aW9uU2FnYSgpOiBTYWdhSXRlcmF0b3Ige1xyXG4gIHdoaWxlICh0cnVlKSB7XHJcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IHlpZWxkIHRha2UoYmFuZEFjdGlvbnMucmVxdWVzdE1vZGlmeUJhbmRTY29yZS50eXBlKTtcclxuICAgIGNvbnN0IHsgdGFyZ2V0QmFuZElkLCBtb2RpZnlpbmdVc2VySWQsIG1vZGlmaWNhdGlvblZhbHVlIH0gPSBwYXlsb2FkO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coXCJtb2RpZmljYXRpb24gdmFsdWUgaW4gc2FnYTogXCIsIG1vZGlmaWNhdGlvblZhbHVlKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBjYWxsKFxyXG4gICAgICAgIGF4aW9zLnBvc3QsXHJcbiAgICAgICAgcGF0aHMuc2VydmVyVXJsICsgcGF0aHMubW9kaWZ5QmFuZCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0YXJnZXRCYW5kSWQsXHJcbiAgICAgICAgICBtb2RpZnlpbmdVc2VySWQsXHJcbiAgICAgICAgICBtb2RpZmljYXRpb25WYWx1ZSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT0gMjAwKSB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgaWYgKG1vZGlmaWNhdGlvblZhbHVlID09IDApIHtcclxuICAgICAgICB5aWVsZCBwdXQoXHJcbiAgICAgICAgICBiYW5kQWN0aW9ucy5tb2RpZnlCYW5kU2NvcmVTdWNjZXNzKHtcclxuICAgICAgICAgICAgdGFyZ2V0QmFuZElkLFxyXG4gICAgICAgICAgICBtb2RpZmljYXRpb25WYWx1ZTogLXBheWxvYWQudW5kb1ZhbHVlLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHlpZWxkIHB1dChcclxuICAgICAgICAgIGJhbmRBY3Rpb25zLm1vZGlmeUJhbmRTY29yZVN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICB0YXJnZXRCYW5kSWQsXHJcbiAgICAgICAgICAgIG1vZGlmaWNhdGlvblZhbHVlLFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB5aWVsZCBwdXQoYmFuZEFjdGlvbnMubW9kaWZ5QmFuZFNjb3JlRmFpbHVyZSgpKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVHlwZXMgYXMgTW9uZ29vc2VUeXBlcyB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlcnZlclVybCA9XHJcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gXCJwcm9kdWN0aW9uXCIgPyBcIlwiIDogXCJodHRwOi8vbG9jYWxob3N0Ojc3NzdcIjtcclxuZXhwb3J0IGNvbnN0IGF1dGhlbnRpY2F0ZSA9IFwiL2FwaS9hdXRoZW50aWNhdGVcIjtcclxuZXhwb3J0IGNvbnN0IHBvc3RCYW5kcyA9IFwiL2FwaS9iYW5kc1wiO1xyXG5leHBvcnQgY29uc3QgbW9kaWZ5QmFuZCA9IFwiL2FwaS9iYW5kL21vZGlmeVwiO1xyXG5leHBvcnQgY29uc3QgbmV3QmFuZCA9IFwiL2FwaS9iYW5kL25ld1wiO1xyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlciA9IFwiL2FwaS9jcmVhdGUtdXNlclwiO1xyXG5leHBvcnQgY29uc3QgZ2V0VXNlcm5hbWUgPSBcIi9hcGkvdXNlcm5hbWVzL2dldFwiO1xyXG5leHBvcnQgY29uc3QgZ2V0VXNlclJlY29yZHMgPSBcIi9hcGkvdXNlcnMvZ2V0XCI7XHJcblxyXG5jb25zdCBnZXRVc2VyUHJvZmlsZUJhc2UgPSBcIi9hcGkvdXNlci1wcm9maWxlXCI7XHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyUHJvZmlsZUVuZHBvaW50ID0gZ2V0VXNlclByb2ZpbGVCYXNlICsgXCIvOnVzZXJJZFwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdldFVzZXJQcm9maWxlVXJsKFxyXG4gIHRhcmdldFVzZXJJZC8qOiBNb25nb29zZVR5cGVzLk9iamVjdElkKi9cclxuKTogc3RyaW5nIHtcclxuICByZXR1cm4gZ2V0VXNlclByb2ZpbGVCYXNlICsgXCIvXCIgKyB0YXJnZXRVc2VySWQvKi50b0hleFN0cmluZyovO1xyXG59XHJcbiIsImltcG9ydCB7IGNyZWF0ZVNsaWNlLCBQYXlsb2FkQWN0aW9uIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcclxuaW1wb3J0IHtcclxuICBCYW5kQ3JlYXRpb25TdGF0dXNlcyxcclxuICBCYW5kU2NvcmVNb2RpZmljYXRpb25TdGF0dXNlcyxcclxuICBCYW5kU29ydFR5cGVzLFxyXG59IGZyb20gXCIuLi9zdGF0dXNlc1wiO1xyXG5pbXBvcnQgeyBCYW5kQ2xhc3MgfSBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL21vZGVscy9iYW5kLW1vZGVsXCI7XHJcbmltcG9ydCB7IFR5cGVzIGFzIE1vbmdvb3NlVHlwZXMgfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbnR5cGUgU2NvcmVNb2RpZmljYXRpb25TdGF0ZSA9IHtcclxuICBzdGF0dXM6IEJhbmRTY29yZU1vZGlmaWNhdGlvblN0YXR1c2VzO1xyXG4gIC8vIFRPRE86IFRoaXMgbmVlZHMgdG8gcmVmZXIgdG8gYSBiYW5kJ3MgSURcclxuICB0YXJnZXQ/OiBNb25nb29zZVR5cGVzLk9iamVjdElkO1xyXG59O1xyXG5cclxudHlwZSBCYW5kc1NsaWNlU3RhdGUgPSB7XHJcbiAgcGVuZGluZ0ZldGNoZXM6IG51bWJlcjtcclxuICBjcmVhdGlvblN0YXR1czogQmFuZENyZWF0aW9uU3RhdHVzZXM7XHJcbiAgaXRlbXM6IEJhbmRDbGFzc1tdO1xyXG4gIHNjb3JlTW9kaWZpY2F0aW9uU3RhdGU6IFNjb3JlTW9kaWZpY2F0aW9uU3RhdGU7XHJcbn07XHJcblxyXG5jb25zdCBpbml0aWFsU3RhdGU6IEJhbmRzU2xpY2VTdGF0ZSA9IHtcclxuICBwZW5kaW5nRmV0Y2hlczogMCxcclxuICBpdGVtczogW10sXHJcbiAgY3JlYXRpb25TdGF0dXM6IEJhbmRDcmVhdGlvblN0YXR1c2VzLk5PVF9UUllJTkcsXHJcbiAgc2NvcmVNb2RpZmljYXRpb25TdGF0ZToge1xyXG4gICAgc3RhdHVzOiBCYW5kU2NvcmVNb2RpZmljYXRpb25TdGF0dXNlcy5OT1RfVFJZSU5HLFxyXG4gIH0sXHJcbn07XHJcblxyXG5jb25zdCBiYW5kc1NsaWNlID0gY3JlYXRlU2xpY2Uoe1xyXG4gIG5hbWU6IFwiYmFuZHNcIixcclxuICBpbml0aWFsU3RhdGUsXHJcbiAgcmVkdWNlcnM6IHtcclxuICAgIC8vIEJhbmQgZmV0Y2hpbmdcclxuICAgIHJlcXVlc3RGZXRjaEJhbmRzKFxyXG4gICAgICBzdGF0ZSxcclxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcclxuICAgICAgICBtYXhCYW5kczogbnVtYmVyO1xyXG4gICAgICAgIHNvcnRCeTogQmFuZFNvcnRUeXBlcztcclxuICAgICAgfT5cclxuICAgICkge1xyXG4gICAgICBzdGF0ZS5wZW5kaW5nRmV0Y2hlcysrO1xyXG4gICAgfSxcclxuICAgIGZldGNoQmFuZHNTdWNjZXNzKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248QmFuZENsYXNzW10+KSB7XHJcbiAgICAgIGFjdGlvbi5wYXlsb2FkLmZvckVhY2goKG5ld0JhbmQpID0+IHtcclxuICAgICAgICBpZiAoIXN0YXRlLml0ZW1zLnNvbWUoKGJhbmQpID0+IGJhbmQuX2lkID09IG5ld0JhbmQuX2lkKSlcclxuICAgICAgICAgIHN0YXRlLml0ZW1zLnB1c2gobmV3QmFuZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBzdGF0ZS5wZW5kaW5nRmV0Y2hlcy0tO1xyXG4gICAgfSxcclxuICAgIGZldGNoQmFuZHNGYWlsdXJlKHN0YXRlKSB7XHJcbiAgICAgIHN0YXRlLnBlbmRpbmdGZXRjaGVzLS07XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIEJhbmQgY3JlYXRpb25cclxuICAgIHJlcXVlc3RDcmVhdGVCYW5kKFxyXG4gICAgICBzdGF0ZSxcclxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcclxuICAgICAgICBjcmVhdGluZ1VzZXJJZDogTW9uZ29vc2VUeXBlcy5PYmplY3RJZDtcclxuICAgICAgICBiYW5kTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIGNyZWF0aW5nVXNlcm5hbWU6IHN0cmluZztcclxuICAgICAgfT5cclxuICAgICkge1xyXG4gICAgICBzdGF0ZS5jcmVhdGlvblN0YXR1cyA9IEJhbmRDcmVhdGlvblN0YXR1c2VzLkNSRUFUSU5HO1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZUJhbmRTdWNjZXNzKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248QmFuZENsYXNzPikge1xyXG4gICAgICBzdGF0ZS5jcmVhdGlvblN0YXR1cyA9IEJhbmRDcmVhdGlvblN0YXR1c2VzLkNSRUFURUQ7XHJcbiAgICAgIHN0YXRlLml0ZW1zLnB1c2goYWN0aW9uLnBheWxvYWQpO1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZUJhbmRGYWlsdXJlKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248QmFuZENyZWF0aW9uU3RhdHVzZXM+KSB7XHJcbiAgICAgIHN0YXRlLmNyZWF0aW9uU3RhdHVzID0gYWN0aW9uLnBheWxvYWQ7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIE1vZGlmeSBiYW5kIHNjb3JlXHJcbiAgICByZXF1ZXN0TW9kaWZ5QmFuZFNjb3JlKFxyXG4gICAgICBzdGF0ZSxcclxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcclxuICAgICAgICB0YXJnZXRCYW5kSWQ6IE1vbmdvb3NlVHlwZXMuT2JqZWN0SWQ7XHJcbiAgICAgICAgbW9kaWZ5aW5nVXNlcklkOiBNb25nb29zZVR5cGVzLk9iamVjdElkO1xyXG4gICAgICAgIG1vZGlmaWNhdGlvblZhbHVlOiBudW1iZXI7XHJcbiAgICAgICAgdW5kb1ZhbHVlPzogbnVtYmVyO1xyXG4gICAgICB9PlxyXG4gICAgKSB7XHJcbiAgICAgIHN0YXRlLnNjb3JlTW9kaWZpY2F0aW9uU3RhdGUuc3RhdHVzID1cclxuICAgICAgICBCYW5kU2NvcmVNb2RpZmljYXRpb25TdGF0dXNlcy5BVFRFTVBUSU5HO1xyXG4gICAgICBzdGF0ZS5zY29yZU1vZGlmaWNhdGlvblN0YXRlLnRhcmdldCA9IGFjdGlvbi5wYXlsb2FkLnRhcmdldEJhbmRJZDtcclxuICAgIH0sXHJcbiAgICBtb2RpZnlCYW5kU2NvcmVTdWNjZXNzKHN0YXRlLCBhY3Rpb24pIHtcclxuICAgICAgY29uc3QgdGFyZ2V0QmFuZEluZGV4ID0gc3RhdGUuaXRlbXMuZmluZEluZGV4KFxyXG4gICAgICAgIChiYW5kKSA9PiBiYW5kLl9pZCA9PT0gYWN0aW9uLnBheWxvYWQudGFyZ2V0QmFuZElkXHJcbiAgICAgICk7XHJcbiAgICAgIHN0YXRlLml0ZW1zW3RhcmdldEJhbmRJbmRleF0uc2NvcmUgKz0gYWN0aW9uLnBheWxvYWQubW9kaWZpY2F0aW9uVmFsdWU7XHJcbiAgICAgIHN0YXRlLnNjb3JlTW9kaWZpY2F0aW9uU3RhdGUuc3RhdHVzID1cclxuICAgICAgICBCYW5kU2NvcmVNb2RpZmljYXRpb25TdGF0dXNlcy5TVUNDRVNTO1xyXG4gICAgfSxcclxuICAgIG1vZGlmeUJhbmRTY29yZUZhaWx1cmUoc3RhdGUpIHtcclxuICAgICAgLy8gVE9ETzogU2hvdWxkbid0IHdlIGJlIGdldHRpbmcgYSByZWFzb24gZm9yIHRoZSBmYWlsdXJlIGhlcmU/XHJcbiAgICAgIHN0YXRlLnNjb3JlTW9kaWZpY2F0aW9uU3RhdGUuc3RhdHVzID1cclxuICAgICAgICBCYW5kU2NvcmVNb2RpZmljYXRpb25TdGF0dXNlcy5GQUlMVVJFO1xyXG4gICAgICBzdGF0ZS5zY29yZU1vZGlmaWNhdGlvblN0YXRlLnRhcmdldCA9IHVuZGVmaW5lZDtcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgYmFuZEFjdGlvbnMgPSBiYW5kc1NsaWNlLmFjdGlvbnM7XHJcbmV4cG9ydCBkZWZhdWx0IGJhbmRzU2xpY2UucmVkdWNlcjtcclxuIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSBcInJlZHV4XCI7XHJcbmltcG9ydCBjcmVhdGVTYWdhTWlkZGxld2FyZSBmcm9tIFwicmVkdXgtc2FnYVwiO1xyXG5pbXBvcnQgeyBjb25maWd1cmVTdG9yZSwgZ2V0RGVmYXVsdE1pZGRsZXdhcmUgfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xyXG5pbXBvcnQgYmFuZHNSZWR1Y2VyIGZyb20gXCIuL3NsaWNlcy9iYW5kcy1zbGljZVwiO1xyXG5pbXBvcnQgc2Vzc2lvblJlZHVjZXIgZnJvbSBcIi4vc2xpY2VzL3Nlc3Npb24tc2xpY2VcIjtcclxuaW1wb3J0IHVzZXJSZWNvcmRzUmVkdWNlciBmcm9tIFwiLi9zbGljZXMvdXNlci1yZWNvcmRzLXNsaWNlXCI7XHJcbmltcG9ydCB1c2VyUHJvZmlsZVJlZHVjZXIgZnJvbSBcIi4vc2xpY2VzL3VzZXItcHJvZmlsZS1zbGljZVwiO1xyXG5cclxuaW1wb3J0ICogYXMgc2FnYXMgZnJvbSBcIi4vc2FnYXNcIjtcclxuXHJcbmNvbnN0IHNhZ2FNaWRkbGV3YXJlID0gY3JlYXRlU2FnYU1pZGRsZXdhcmUoKTtcclxuY29uc3QgbWlkZGxld2FyZSA9IFsuLi5nZXREZWZhdWx0TWlkZGxld2FyZSh7IHRodW5rOiBmYWxzZSB9KSwgc2FnYU1pZGRsZXdhcmVdO1xyXG5cclxuY29uc3Qgcm9vdFJlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoe1xyXG4gIGJhbmRzOiBiYW5kc1JlZHVjZXIsXHJcbiAgc2Vzc2lvbjogc2Vzc2lvblJlZHVjZXIsXHJcbiAgdXNlclJlY29yZHM6IHVzZXJSZWNvcmRzUmVkdWNlcixcclxuICB1c2VyUHJvZmlsZTogdXNlclByb2ZpbGVSZWR1Y2VyXHJcbn0pO1xyXG5leHBvcnQgdHlwZSBSb290U3RhdGUgPSBSZXR1cm5UeXBlPHR5cGVvZiByb290UmVkdWNlcj47XHJcblxyXG5leHBvcnQgY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7XHJcbiAgcmVkdWNlcjogcm9vdFJlZHVjZXIsXHJcbiAgbWlkZGxld2FyZTogbWlkZGxld2FyZSxcclxufSk7XHJcblxyXG5mb3IgKGNvbnN0IHNhZ2EgaW4gc2FnYXMpIHtcclxuICBzYWdhTWlkZGxld2FyZS5ydW4oc2FnYXNbc2FnYV0pO1xyXG59XHJcbiIsImltcG9ydCB7IHRha2UsIHB1dCwgY2FsbCB9IGZyb20gXCJyZWR1eC1zYWdhL2VmZmVjdHNcIjtcclxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5pbXBvcnQgKiBhcyBwYXRocyBmcm9tIFwiLi4vLi4vLi4vc2VydmVyL3BhdGhzXCI7XHJcbmltcG9ydCB7IHNlc3Npb25BY3Rpb25zIH0gZnJvbSBcIi4uL3NsaWNlcy9zZXNzaW9uLXNsaWNlXCI7XHJcbmltcG9ydCB7IFVzZXJDcmVhdGlvblN0YXR1c2VzIH0gZnJvbSBcIi4uL3N0YXR1c2VzXCI7XHJcbmltcG9ydCB7IFNhZ2FJdGVyYXRvciB9IGZyb20gXCJyZWR1eC1zYWdhXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24qIHVzZXJDcmVhdGlvblNhZ2EoKTogU2FnYUl0ZXJhdG9yIHtcclxuICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgY29uc3QgeyBwYXlsb2FkIH0gPSB5aWVsZCB0YWtlKHNlc3Npb25BY3Rpb25zLnJlcXVlc3RDcmVhdGVVc2VyLnR5cGUpO1xyXG4gICAgY29uc3QgeyAvKmVtYWlsLCovIHVzZXJuYW1lLCBwYXNzd29yZCwgcmVwZWF0UGFzc3dvcmQgfSA9IHBheWxvYWQ7XHJcblxyXG4gICAgLy8gaWYgKCFlbWFpbElzVmFsaWQoZW1haWwpKSB7XHJcbiAgICAvLyAgIHlpZWxkIHB1dChcclxuICAgIC8vICAgICBzZXNzaW9uQWN0aW9ucy5jcmVhdGVVc2VyRmFpbHVyZSh7XHJcbiAgICAvLyAgICAgICByZWFzb246IFVzZXJDcmVhdGlvblN0YXR1c2VzLklOVkFMSURfRU1BSUwsXHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgKTtcclxuICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIGlmIChwYXNzd29yZCAhPT0gcmVwZWF0UGFzc3dvcmQpIHtcclxuICAgICAgICB5aWVsZCBwdXQoXHJcbiAgICAgICAgICBzZXNzaW9uQWN0aW9ucy5jcmVhdGVVc2VyRmFpbHVyZSh7XHJcbiAgICAgICAgICAgIHJlYXNvbjogVXNlckNyZWF0aW9uU3RhdHVzZXMuUEFTU1dPUkRTX0RPTlRfTUFUQ0gsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgY2FsbChcclxuICAgICAgICAgICAgYXhpb3MucG9zdCxcclxuICAgICAgICAgICAgcGF0aHMuc2VydmVyVXJsICsgcGF0aHMuY3JlYXRlVXNlcixcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgIHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgIC8vIGVtYWlsLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgeWllbGQgcHV0KHNlc3Npb25BY3Rpb25zLmNyZWF0ZVVzZXJTdWNjZXNzKCkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICB5aWVsZCBwdXQoXHJcbiAgICAgICAgICAgIHNlc3Npb25BY3Rpb25zLmNyZWF0ZVVzZXJGYWlsdXJlKHtcclxuICAgICAgICAgICAgICByZWFzb246IGVycm9yLnJlc3BvbnNlLmRhdGEucmVhc29uLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIC8vIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtYWlsSXNWYWxpZChlbWFpbDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgcmUgPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xyXG4gIHJldHVybiByZS50ZXN0KFN0cmluZyhlbWFpbCkudG9Mb3dlckNhc2UoKSk7XHJcbn1cclxuIiwiaW1wb3J0IHsgdGFrZSwgcHV0LCBjYWxsIH0gZnJvbSBcInJlZHV4LXNhZ2EvZWZmZWN0c1wiO1xyXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcbmltcG9ydCAqIGFzIHBhdGhzIGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvcGF0aHNcIjtcclxuaW1wb3J0IHsgVHlwZXMgYXMgTW9uZ29vc2VUeXBlcyB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgeyBTYWdhSXRlcmF0b3IgfSBmcm9tIFwicmVkdXgtc2FnYVwiO1xyXG5pbXBvcnQgeyB1c2VyUHJvZmlsZUFjdGlvbnMgfSBmcm9tIFwiLi4vc2xpY2VzL3VzZXItcHJvZmlsZS1zbGljZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVHZXRVc2VyUHJvZmlsZVVybCB9IGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvcGF0aHNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiogZmV0Y2hQcm9maWxlU2FnYSgpOiBTYWdhSXRlcmF0b3Ige1xyXG4gIHdoaWxlICh0cnVlKSB7XHJcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IHlpZWxkIHRha2UoXHJcbiAgICAgIHVzZXJQcm9maWxlQWN0aW9ucy5yZXF1ZXN0RmV0Y2hVc2VyUHJvZmlsZS50eXBlXHJcbiAgICApO1xyXG4gICAgY29uc29sZS5sb2cocGF5bG9hZCk7XHJcbiAgICBjb25zdCB0YXJnZXRJZCA9IHBheWxvYWQudGFyZ2V0SWQ7XHJcbiAgICBjb25zb2xlLmxvZyh0YXJnZXRJZCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhjcmVhdGVHZXRVc2VyUHJvZmlsZVVybCh0YXJnZXRJZCkpO1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGNhbGwoXHJcbiAgICAgICAgYXhpb3MuZ2V0LFxyXG4gICAgICAgIHBhdGhzLnNlcnZlclVybCArIGNyZWF0ZUdldFVzZXJQcm9maWxlVXJsKHRhcmdldElkKVxyXG4gICAgICApO1xyXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgIHlpZWxkIHB1dChcclxuICAgICAgICAgIHVzZXJQcm9maWxlQWN0aW9ucy5mZXRjaFVzZXJQcm9maWxlU3VjY2Vzcyh7XHJcbiAgICAgICAgICAgIHByb2ZpbGU6IHJlc3BvbnNlLmRhdGEucHJvZmlsZSxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB5aWVsZCBwdXQodXNlclByb2ZpbGVBY3Rpb25zLmZldGNoVXNlclByb2ZpbGVGYWlsdXJlKCkpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgeWllbGQgcHV0KHVzZXJQcm9maWxlQWN0aW9ucy5mZXRjaFVzZXJQcm9maWxlRmFpbHVyZSgpKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgY3JlYXRlU2xpY2UsIFBheWxvYWRBY3Rpb24gfSBmcm9tIFwiQHJlZHV4anMvdG9vbGtpdFwiO1xyXG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblN0YXR1c2VzLCBVc2VyQ3JlYXRpb25TdGF0dXNlcyB9IGZyb20gXCIuLi9zdGF0dXNlc1wiO1xyXG5pbXBvcnQgeyBiYW5kQWN0aW9ucyB9IGZyb20gXCIuL2JhbmRzLXNsaWNlXCI7XHJcbmltcG9ydCB7IFR5cGVzIGFzIE1vbmdvb3NlVHlwZXMgfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbnR5cGUgU2Vzc2lvbkJhbmRNb2RpZmljYXRpb24gPSB7XHJcbiAgdGFyZ2V0QmFuZElkOiBNb25nb29zZVR5cGVzLk9iamVjdElkO1xyXG4gIHZhbHVlOiBudW1iZXI7XHJcbn07XHJcblxyXG50eXBlIFNlc3Npb25TbGljZVN0YXRlID0ge1xyXG4gIGF1dGhlbnRpY2F0aW9uU3RhdHVzOiBBdXRoZW50aWNhdGlvblN0YXR1c2VzO1xyXG4gIHVzZXJJZD86IE1vbmdvb3NlVHlwZXMuT2JqZWN0SWQ7XHJcbiAgdXNlcm5hbWU/OiBzdHJpbmc7XHJcbiAgdXNlckNyZWF0aW9uU3RhdHVzOiBVc2VyQ3JlYXRpb25TdGF0dXNlcztcclxuICBiYW5kc01vZGlmaWVkOiBTZXNzaW9uQmFuZE1vZGlmaWNhdGlvbltdO1xyXG59O1xyXG5cclxuY29uc3QgaW5pdGlhbFN0YXRlOiBTZXNzaW9uU2xpY2VTdGF0ZSA9IHtcclxuICBhdXRoZW50aWNhdGlvblN0YXR1czogQXV0aGVudGljYXRpb25TdGF0dXNlcy5OT1RfVFJZSU5HLFxyXG4gIHVzZXJJZDogdW5kZWZpbmVkLFxyXG4gIHVzZXJuYW1lOiB1bmRlZmluZWQsXHJcbiAgdXNlckNyZWF0aW9uU3RhdHVzOiBVc2VyQ3JlYXRpb25TdGF0dXNlcy5OT1RfVFJZSU5HLFxyXG4gIGJhbmRzTW9kaWZpZWQ6IFtdLFxyXG59O1xyXG5cclxuY29uc3Qgc2Vzc2lvblNsaWNlID0gY3JlYXRlU2xpY2Uoe1xyXG4gIG5hbWU6IFwic2Vzc2lvblwiLFxyXG4gIGluaXRpYWxTdGF0ZSxcclxuICByZWR1Y2Vyczoge1xyXG4gICAgLy8gVXNlciBhdXRoZW50aWNhdGlvblxyXG4gICAgcmVxdWVzdEF1dGhlbnRpY2F0ZVVzZXIoXHJcbiAgICAgIHN0YXRlLFxyXG4gICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248e1xyXG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgcGFzc3dvcmQ6IHN0cmluZztcclxuICAgICAgfT5cclxuICAgICkge1xyXG4gICAgICBzdGF0ZS5hdXRoZW50aWNhdGlvblN0YXR1cyA9IEF1dGhlbnRpY2F0aW9uU3RhdHVzZXMuQVVUSEVOVElDQVRJTkc7XHJcbiAgICB9LFxyXG4gICAgYXV0aGVudGljYXRlVXNlclN1Y2Nlc3Moc3RhdGUsIGFjdGlvbikge1xyXG4gICAgICBzdGF0ZS5hdXRoZW50aWNhdGlvblN0YXR1cyA9IEF1dGhlbnRpY2F0aW9uU3RhdHVzZXMuQVVUSEVOVElDQVRFRDtcclxuICAgICAgc3RhdGUudXNlcklkID0gYWN0aW9uLnBheWxvYWQudXNlcklkO1xyXG4gICAgICBzdGF0ZS51c2VybmFtZSA9IGFjdGlvbi5wYXlsb2FkLnVzZXJuYW1lO1xyXG4gICAgICBzdGF0ZS5iYW5kc01vZGlmaWVkID0gYWN0aW9uLnBheWxvYWQuYmFuZHNNb2RpZmllZDtcclxuICAgIH0sXHJcbiAgICBhdXRoZW50aWNhdGVVc2VyRmFpbHVyZShzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgICAgIHN0YXRlLmF1dGhlbnRpY2F0aW9uU3RhdHVzID0gYWN0aW9uLnBheWxvYWQucmVhc29uO1xyXG4gICAgICAvLyBUT0RPOiBJcyBpdCBuZWNlc3NhcnkgdG8gcmVzZXQgdGhpcyB0byBudWxsIGhlcmU/XHJcbiAgICAgIHN0YXRlLnVzZXJJZCA9IHVuZGVmaW5lZDtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gVXNlciBsb2dvdXRcclxuICAgIHJlcXVlc3RMb2dvdXQoKSB7XHJcbiAgICAgIHJldHVybiBpbml0aWFsU3RhdGU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFVzZXIgY3JlYXRpb25cclxuICAgIHJlcXVlc3RDcmVhdGVVc2VyKFxyXG4gICAgICBzdGF0ZSxcclxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcclxuICAgICAgICAvLyBlbWFpbDogc3RyaW5nO1xyXG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgcGFzc3dvcmQ6IHN0cmluZztcclxuICAgICAgICByZXBlYXRQYXNzd29yZDogc3RyaW5nO1xyXG4gICAgICB9PlxyXG4gICAgKSB7XHJcbiAgICAgIHN0YXRlLnVzZXJDcmVhdGlvblN0YXR1cyA9IFVzZXJDcmVhdGlvblN0YXR1c2VzLlBST0NFU1NJTkc7XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlVXNlclN1Y2Nlc3Moc3RhdGUpIHtcclxuICAgICAgc3RhdGUudXNlckNyZWF0aW9uU3RhdHVzID0gVXNlckNyZWF0aW9uU3RhdHVzZXMuU1VDQ0VTUztcclxuICAgIH0sXHJcbiAgICBjcmVhdGVVc2VyRmFpbHVyZShzdGF0ZSwgYWN0aW9uKSB7XHJcbiAgICAgIHN0YXRlLnVzZXJDcmVhdGlvblN0YXR1cyA9IGFjdGlvbi5wYXlsb2FkLnJlYXNvbjtcclxuICAgIH0sXHJcbiAgfSxcclxuICBleHRyYVJlZHVjZXJzOiB7XHJcbiAgICAvLyBCYW5kIG1vZGlmaWNhdGlvblxyXG4gICAgW2JhbmRBY3Rpb25zLm1vZGlmeUJhbmRTY29yZVN1Y2Nlc3MudHlwZV06IChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgIHN0YXRlLmJhbmRzTW9kaWZpZWQucHVzaCh7XHJcbiAgICAgICAgdGFyZ2V0QmFuZElkOiBhY3Rpb24ucGF5bG9hZC50YXJnZXRCYW5kSWQsXHJcbiAgICAgICAgdmFsdWU6IGFjdGlvbi5wYXlsb2FkLm1vZGlmaWNhdGlvblZhbHVlLFxyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3Qgc2Vzc2lvbkFjdGlvbnMgPSBzZXNzaW9uU2xpY2UuYWN0aW9ucztcclxuZXhwb3J0IGRlZmF1bHQgc2Vzc2lvblNsaWNlLnJlZHVjZXI7XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tIFwicmVhY3Qtcm91dGVyXCI7XHJcbmltcG9ydCB7IFJvdXRlLCBSb3V0ZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gXCIuLi9zdG9yZVwiO1xyXG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblN0YXR1c2VzIH0gZnJvbSBcIi4uL3N0b3JlL3N0YXR1c2VzXCI7XHJcbmltcG9ydCB7IGhpc3RvcnkgfSBmcm9tIFwiLi4vc3RvcmUvaGlzdG9yeVwiO1xyXG5pbXBvcnQgeyBCaWdCYW5kVGFibGUgfSBmcm9tIFwiLi9CaWdCYW5kVGFibGVcIjtcclxuaW1wb3J0IHsgTGFuZGluZyB9IGZyb20gXCIuL0xhbmRpbmdcIjtcclxuaW1wb3J0IHsgTG9naW4gfSBmcm9tIFwiLi9Mb2dpblwiO1xyXG5pbXBvcnQgeyBOYXZpZ2F0aW9uIH0gZnJvbSBcIi4vTmF2aWdhdGlvblwiO1xyXG5pbXBvcnQgeyBOZXdVc2VyRm9ybSB9IGZyb20gXCIuL05ld1VzZXJcIjtcclxuaW1wb3J0IHsgVXNlclByb2ZpbGUgfSBmcm9tIFwiLi9Vc2VyUHJvZmlsZVwiO1xyXG5cclxuLy8gY29uc3QgQXV0aGVudGljYXRpb25HdWFyZCA9IChDb21wb25lbnQpID0+ICh7IG1hdGNoIH0pID0+IHtcclxuLy8gICBpZiAoXHJcbi8vICAgICBzdG9yZS5nZXRTdGF0ZSgpLnNlc3Npb24uYXV0aGVudGljYXRpb25TdGF0dXMgIT09XHJcbi8vICAgICBBdXRoZW50aWNhdGlvblN0YXR1c2VzLkFVVEhFTlRJQ0FURURcclxuLy8gICApIHtcclxuLy8gICAgIHJldHVybiA8UmVkaXJlY3QgdG89XCIvXCIgLz47XHJcbi8vICAgfVxyXG4vLyAgIHJldHVybiA8Q29tcG9uZW50IG1hdGNoPXttYXRjaH0gLz47XHJcbi8vIH07XHJcblxyXG5leHBvcnQgY29uc3QgTWFpbiA9ICgpID0+IChcclxuICAvLyBUT0RPOiBXaGF0IGlzIHRoZSBSb3V0ZXIncyBcImhpc3RvcnlcIiBhbGwgYWJvdXQ/XHJcbiAgPFJvdXRlciBoaXN0b3J5PXtoaXN0b3J5fT5cclxuICAgIDxQcm92aWRlciBzdG9yZT17c3RvcmV9PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxOYXZpZ2F0aW9uIC8+XHJcbiAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9XCIvYmFuZHNcIiBjb21wb25lbnQ9e0JpZ0JhbmRUYWJsZX0gLz5cclxuICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD1cIi9sb2dpblwiIGNvbXBvbmVudD17TG9naW59IC8+XHJcbiAgICAgICAgPFJvdXRlIGV4YWN0IHBhdGg9XCIvbmV3LXVzZXJcIiBjb21wb25lbnQ9e05ld1VzZXJGb3JtfSAvPlxyXG4gICAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPVwiL1wiIGNvbXBvbmVudD17TGFuZGluZ30gLz5cclxuICAgICAgICA8Um91dGVcclxuICAgICAgICAgIHBhdGg9XCIvdXNlcnMvOnVzZXJJZFwiXHJcbiAgICAgICAgICBjb21wb25lbnQ9eyh7IG1hdGNoIH0pID0+IDxVc2VyUHJvZmlsZSBpZD17bWF0Y2gucGFyYW1zLnVzZXJJZH0gLz59XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L1Byb3ZpZGVyPlxyXG4gIDwvUm91dGVyPlxyXG4pO1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IENyZWF0ZUJhbmRGb3JtIH0gZnJvbSBcIi4vQ3JlYXRlQmFuZEZvcm1cIjtcclxuaW1wb3J0IHsgQmlnQmFuZFRhYmxlIH0gZnJvbSBcIi4vQmlnQmFuZFRhYmxlXCI7XHJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9lc20vQ29udGFpbmVyXCI7XHJcbmltcG9ydCBSb3cgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9Sb3dcIjtcclxuaW1wb3J0IENvbCBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0NvbFwiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0NhcmRcIjtcclxuaW1wb3J0IHsgVXNlclJlY29yZHNMaXN0IH0gZnJvbSBcIi4vVXNlclJlY29yZHNMaXN0XCI7XHJcbmltcG9ydCB7IFVzZXJSZWNvcmRTb3J0VHlwZXMgfSBmcm9tIFwiLi4vc3RvcmUvc3RhdHVzZXNcIjtcclxuaW1wb3J0IEp1bWJvdHJvbiBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0p1bWJvdHJvblwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IExhbmRpbmcgPSAoKSA9PiAoXHJcbiAgPD5cclxuICAgIHsvKiA8SnVtYm90cm9uPlxyXG4gICAgICA8aDEgY2xhc3NOYW1lPVwibGFuZGluZ1RpdGxlXCI+V2hhdCBhYm91dCBhIGJhbmQgY2FsbGVkLi4uPC9oMT5cclxuICAgIDwvSnVtYm90cm9uPiAqL31cclxuICAgIDxDb250YWluZXI+XHJcbiAgICAgIDxSb3cgY2xhc3NOYW1lPXtcIm1iLTVcIn0+XHJcbiAgICAgICAgPENvbCBtZD17OH0gY2xhc3NOYW1lPXtcIm1iLTNcIn0+XHJcbiAgICAgICAgICA8Q3JlYXRlQmFuZEZvcm0gLz5cclxuICAgICAgICAgIDxCaWdCYW5kVGFibGUgLz5cclxuICAgICAgICA8L0NvbD5cclxuICAgICAgICA8Q29sIG1kPXs0fT5cclxuICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT17XCJtYi0zXCJ9PlxyXG4gICAgICAgICAgICA8Q2FyZC5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgPGg1Pk1vc3QgTmFtZXMgQ29udHJpYnV0ZWQ8L2g1PlxyXG4gICAgICAgICAgICA8L0NhcmQuSGVhZGVyPlxyXG4gICAgICAgICAgICA8Q2FyZC5Cb2R5PlxyXG4gICAgICAgICAgICAgIDxVc2VyUmVjb3Jkc0xpc3RcclxuICAgICAgICAgICAgICAgIG1heFJlY29yZHM9ezEwfVxyXG4gICAgICAgICAgICAgICAgc29ydFR5cGU9e1VzZXJSZWNvcmRTb3J0VHlwZXMuTU9TVF9OQU1FU19DT05UUklCVVRFRH1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L0NhcmQuQm9keT5cclxuICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT17XCJtYi0zXCJ9PlxyXG4gICAgICAgICAgICA8Q2FyZC5IZWFkZXI+XHJcbiAgICAgICAgICAgICAgPGg1PkhpZ2hlc3QgQXZlcmFnZSBTY29yZTwvaDU+XHJcbiAgICAgICAgICAgIDwvQ2FyZC5IZWFkZXI+XHJcbiAgICAgICAgICAgIDxDYXJkLkJvZHk+XHJcbiAgICAgICAgICAgICAgPFVzZXJSZWNvcmRzTGlzdFxyXG4gICAgICAgICAgICAgICAgbWF4UmVjb3Jkcz17MTB9XHJcbiAgICAgICAgICAgICAgICBzb3J0VHlwZT17VXNlclJlY29yZFNvcnRUeXBlcy5ISUdIRVNUX0FWRVJBR0VfU0NPUkV9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9DYXJkLkJvZHk+XHJcbiAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9e1wibWItM1wifT5cclxuICAgICAgICAgICAgPENhcmQuSGVhZGVyPlxyXG4gICAgICAgICAgICAgIDxoNT5IaWdoZXN0IFNjb3JlPC9oNT5cclxuICAgICAgICAgICAgPC9DYXJkLkhlYWRlcj5cclxuICAgICAgICAgICAgPENhcmQuQm9keT5cclxuICAgICAgICAgICAgICA8VXNlclJlY29yZHNMaXN0XHJcbiAgICAgICAgICAgICAgICBtYXhSZWNvcmRzPXsxMH1cclxuICAgICAgICAgICAgICAgIHNvcnRUeXBlPXtVc2VyUmVjb3JkU29ydFR5cGVzLkhJR0hFU1RfU0NPUkV9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9DYXJkLkJvZHk+XHJcbiAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgPC9Db2w+XHJcbiAgICAgIDwvUm93PlxyXG4gICAgPC9Db250YWluZXI+XHJcbiAgPC8+XHJcbik7XHJcbiIsIi8vIGltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcclxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJyZWFjdC1ib290c3RyYXAvQnV0dG9uXCI7XHJcbmltcG9ydCBBbGVydCBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0FsZXJ0XCI7XHJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9Db250YWluZXJcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9DYXJkXCI7XHJcbmltcG9ydCBGb3JtIGZyb20gXCJyZWFjdC1ib290c3RyYXAvRm9ybVwiO1xyXG5pbXBvcnQgeyBjb25uZWN0LCBDb25uZWN0ZWRQcm9wcyB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xyXG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblN0YXR1c2VzIH0gZnJvbSBcIi4uL3N0b3JlL3N0YXR1c2VzXCI7XHJcbmltcG9ydCB7IHNlc3Npb25BY3Rpb25zIH0gZnJvbSBcIi4uL3N0b3JlL3NsaWNlcy9zZXNzaW9uLXNsaWNlXCI7XHJcbmltcG9ydCBTcGlubmVyIGZyb20gXCJyZWFjdC1ib290c3RyYXAvU3Bpbm5lclwiO1xyXG5cclxuLy8gVW5jb25uZWN0ZWRMb2dpbi5wcm9wVHlwZXMgPSB7XHJcbi8vICAgYXV0aGVudGljYXRlVXNlcjogUHJvcFR5cGVzLmZ1bmMsXHJcbi8vICAgYXV0aGVudGljYXRpb25TdGF0dXM6IFByb3BUeXBlcy5vbmVPZihPYmplY3QudmFsdWVzKEF1dGhlbnRpY2F0aW9uU3RhdHVzZXMpKSxcclxuLy8gfTtcclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9ICh7IHNlc3Npb24gfSkgPT4gKHtcclxuICBhdXRoZW50aWNhdGlvblN0YXR1czogc2Vzc2lvbi5hdXRoZW50aWNhdGlvblN0YXR1cyxcclxufSk7XHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgYXV0aGVudGljYXRlVXNlcjogKHVzZXJuYW1lLCBwYXNzd29yZCkgPT5cclxuICAgIGRpc3BhdGNoKHNlc3Npb25BY3Rpb25zLnJlcXVlc3RBdXRoZW50aWNhdGVVc2VyKHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0pKSxcclxufSk7XHJcblxyXG5jb25zdCByZWR1eENvbm5lY3RvciA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpO1xyXG50eXBlIExvZ2luUHJvcHMgPSBDb25uZWN0ZWRQcm9wczx0eXBlb2YgcmVkdXhDb25uZWN0b3I+O1xyXG5cclxudHlwZSBMb2dpblN0YXRlID0ge1xyXG4gIHVzZXJuYW1lOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ6IHN0cmluZztcclxufTtcclxuXHJcbmNsYXNzIFVuY29ubmVjdGVkTG9naW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TG9naW5Qcm9wcywgTG9naW5TdGF0ZT4ge1xyXG4gIHN0YXRlID0ge1xyXG4gICAgdXNlcm5hbWU6IFwiXCIsXHJcbiAgICBwYXNzd29yZDogXCJcIixcclxuICB9O1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGF1dGhlbnRpY2F0aW9uU3RhdHVzLCBhdXRoZW50aWNhdGVVc2VyIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPENvbnRhaW5lcj5cclxuICAgICAgICA8Q2FyZCBzdHlsZT17eyBtYXhXaWR0aDogXCIzNnJlbVwiIH19IGNsYXNzTmFtZT1cIm14LWF1dG9cIj5cclxuICAgICAgICAgIDxDYXJkLkJvZHk+XHJcbiAgICAgICAgICAgIDxGb3JtPlxyXG4gICAgICAgICAgICAgIDxGb3JtLkdyb3VwIGNvbnRyb2xJZD1cImZvcm1CYXNpY1VzZXJuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICA8Rm9ybS5MYWJlbD5Vc2VybmFtZTwvRm9ybS5MYWJlbD5cclxuICAgICAgICAgICAgICAgIDxGb3JtLkNvbnRyb2xcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICBpc0ludmFsaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU3RhdHVzID09XHJcbiAgICAgICAgICAgICAgICAgICAgQXV0aGVudGljYXRpb25TdGF0dXNlcy5VU0VSTkFNRV9OT1RfRk9VTkRcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHRoaXMuc2V0U3RhdGUoeyB1c2VybmFtZTogZS50YXJnZXQudmFsdWUgfSl9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPEZvcm0uVGV4dCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgIE5ldyB1c2VyPyBDcmVhdGUgYW4gYWNjb3VudCA8YSBocmVmPVwiL25ldy11c2VyXCI+aGVyZTwvYT4uXHJcbiAgICAgICAgICAgICAgICA8L0Zvcm0uVGV4dD5cclxuICAgICAgICAgICAgICAgIDxGb3JtLkNvbnRyb2wuRmVlZGJhY2sgdHlwZT1cImludmFsaWRcIj5cclxuICAgICAgICAgICAgICAgICAgUGxlYXNlIGVudGVyIGEgdmFsaWQgdXNlcm5hbWUuXHJcbiAgICAgICAgICAgICAgICA8L0Zvcm0uQ29udHJvbC5GZWVkYmFjaz5cclxuICAgICAgICAgICAgICA8L0Zvcm0uR3JvdXA+XHJcbiAgICAgICAgICAgICAgPEZvcm0uR3JvdXAgY29udHJvbElkPVwiZm9ybUJhc2ljUGFzc3dvcmRcIj5cclxuICAgICAgICAgICAgICAgIDxGb3JtLkxhYmVsPlBhc3N3b3JkPC9Gb3JtLkxhYmVsPlxyXG4gICAgICAgICAgICAgICAgPEZvcm0uQ29udHJvbFxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICBpc0ludmFsaWQ9e1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU3RhdHVzID09XHJcbiAgICAgICAgICAgICAgICAgICAgQXV0aGVudGljYXRpb25TdGF0dXNlcy5JTlZBTElEX1BBU1NXT1JEXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLnNldFN0YXRlKHsgcGFzc3dvcmQ6IGUudGFyZ2V0LnZhbHVlIH0pfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxGb3JtLkNvbnRyb2wuRmVlZGJhY2sgdHlwZT1cImludmFsaWRcIj5cclxuICAgICAgICAgICAgICAgICAgSW5jb3JyZWN0IHBhc3N3b3JkLlxyXG4gICAgICAgICAgICAgICAgPC9Gb3JtLkNvbnRyb2wuRmVlZGJhY2s+XHJcbiAgICAgICAgICAgICAgPC9Gb3JtLkdyb3VwPlxyXG4gICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e1xyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvblN0YXR1cyA9PVxyXG4gICAgICAgICAgICAgICAgICAgIEF1dGhlbnRpY2F0aW9uU3RhdHVzZXMuQVVUSEVOVElDQVRJTkcgfHxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRpb25TdGF0dXMgPT0gQXV0aGVudGljYXRpb25TdGF0dXNlcy5BVVRIRU5USUNBVEVEXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PlxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVVc2VyKHRoaXMuc3RhdGUudXNlcm5hbWUsIHRoaXMuc3RhdGUucGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgU3VibWl0XHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAge2F1dGhlbnRpY2F0aW9uU3RhdHVzID09XHJcbiAgICAgICAgICAgICAgICBBdXRoZW50aWNhdGlvblN0YXR1c2VzLkFVVEhFTlRJQ0FUSU5HICYmIChcclxuICAgICAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PVwiaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICA8U3Bpbm5lciBhbmltYXRpb249XCJib3JkZXJcIiB2YXJpYW50PVwicHJpbWFyeVwiIC8+IFByb2Nlc3NpbmcuLi5cclxuICAgICAgICAgICAgICAgIDwvQWxlcnQ+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICB7YXV0aGVudGljYXRpb25TdGF0dXMgPT0gQXV0aGVudGljYXRpb25TdGF0dXNlcy5BVVRIRU5USUNBVEVEICYmIChcclxuICAgICAgICAgICAgICAgIDxBbGVydCB2YXJpYW50PVwic3VjY2Vzc1wiPlN1Y2Nlc3NmdWxseSBsb2dnZWQgaW4hPC9BbGVydD5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICA8L0NhcmQuQm9keT5cclxuICAgICAgICA8L0NhcmQ+XHJcbiAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBMb2dpbiA9IGNvbm5lY3QoXHJcbiAgbWFwU3RhdGVUb1Byb3BzLFxyXG4gIG1hcERpc3BhdGNoVG9Qcm9wc1xyXG4pKFVuY29ubmVjdGVkTG9naW4pO1xyXG4iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlVXNlclByb2ZpbGVVcmwodXNlcklkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBcIi91c2Vycy9cIiArIHVzZXJJZDtcclxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcclxuaW1wb3J0IHsgTWFpbiB9IGZyb20gXCIuL2NvbXBvbmVudHMvTWFpblwiO1xyXG5pbXBvcnQgXCJib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3NcIjtcclxuXHJcblJlYWN0RE9NLnJlbmRlcihcclxuICA8TWFpbiAvPixcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKVxyXG4pO1xyXG4iLCIvLyBpbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XHJcbmltcG9ydCBSZWFjdCwgeyBTeW50aGV0aWNFdmVudCB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gXCJyZWFjdC1ib290c3RyYXAvQnV0dG9uXCI7XHJcbmltcG9ydCBCdXR0b25Hcm91cCBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0J1dHRvbkdyb3VwXCI7XHJcbmltcG9ydCBDb250YWluZXIgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9Db250YWluZXJcIjtcclxuaW1wb3J0IEJhZGdlIGZyb20gXCJyZWFjdC1ib290c3RyYXAvQmFkZ2VcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9DYXJkXCI7XHJcbmltcG9ydCBUYWJsZSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL1RhYmxlXCI7XHJcbmltcG9ydCBUb2dnbGVCdXR0b24gZnJvbSBcInJlYWN0LWJvb3RzdHJhcC9Ub2dnbGVCdXR0b25cIjtcclxuaW1wb3J0IHsgY29ubmVjdCwgQ29ubmVjdGVkUHJvcHMgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IHsgQXV0aGVudGljYXRpb25TdGF0dXNlcywgQmFuZFNvcnRUeXBlcyB9IGZyb20gXCIuLi9zdG9yZS9zdGF0dXNlc1wiO1xyXG5pbXBvcnQgeyBiYW5kQWN0aW9ucyB9IGZyb20gXCIuLi9zdG9yZS9zbGljZXMvYmFuZHMtc2xpY2VcIjtcclxuaW1wb3J0IHsgc29ydEFuZExpbWl0QmFuZHMgfSBmcm9tIFwiLi91dGlsaXR5L2xpbWl0LXNvcnQtYmFuZHNcIjtcclxuaW1wb3J0IHsgQmFuZE1vZEJ1dHRvbkdyb3VwIH0gZnJvbSBcIi4vQmFuZE1vZEJ1dHRvbkdyb3VwXCI7XHJcbmltcG9ydCB7IFJvb3RTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZS9cIjtcclxuaW1wb3J0IHsgVHlwZXMgYXMgTW9uZ29vc2VUeXBlcyB9IGZyb20gXCJtb25nb29zZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVVc2VyUHJvZmlsZVVybCB9IGZyb20gXCIuL3V0aWxpdHkvY3JlYXRlLXVzZXItcHJvZmlsZS11cmxcIjtcclxuaW1wb3J0IHsgTGluayB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XHJcblxyXG5jb25zdCBkZWZhdWx0QmFuZHNQZXJGZXRjaCA9IDIwO1xyXG5cclxuLy8gVE9ETzogU29tZXRoaW5nIHNob3VsZCBkaXNwbGF5IHdoZW4gd2UgaGF2ZSBubyBiYW5kcyB0byBkaXNwbGF5IVxyXG5cclxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlOiBSb290U3RhdGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgYXBwSXNGZXRjaGluZ0JhbmRzOiBzdGF0ZS5iYW5kcy5wZW5kaW5nRmV0Y2hlcyA+IDAsXHJcbiAgICBiYW5kczogWy4uLnN0YXRlLmJhbmRzLml0ZW1zXSxcclxuICAgIHVzZXJJc0F1dGhlbnRpY2F0ZWQ6XHJcbiAgICAgIHN0YXRlLnNlc3Npb24uYXV0aGVudGljYXRpb25TdGF0dXMgPT0gQXV0aGVudGljYXRpb25TdGF0dXNlcy5BVVRIRU5USUNBVEVEXHJcbiAgICAgICAgPyB0cnVlXHJcbiAgICAgICAgOiBmYWxzZSxcclxuICAgIHVzZXJJZDogc3RhdGUuc2Vzc2lvbi51c2VySWQsXHJcbiAgICB1c2Vyc01vZGlmaWNhdGlvbnM6IHN0YXRlLnNlc3Npb24uYmFuZHNNb2RpZmllZCxcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcclxuICByZXR1cm4ge1xyXG4gICAgYWRkUG9pbnRzVG86IChcclxuICAgICAgdGFyZ2V0QmFuZElkOiBNb25nb29zZVR5cGVzLk9iamVjdElkLFxyXG4gICAgICBtb2RpZmljYXRpb25WYWx1ZTogbnVtYmVyLFxyXG4gICAgICBtb2RpZnlpbmdVc2VySWQ/OiBNb25nb29zZVR5cGVzLk9iamVjdElkLFxyXG4gICAgICB1bmRvVmFsdWU/OiBudW1iZXJcclxuICAgICkgPT4ge1xyXG4gICAgICBpZiAobW9kaWZ5aW5nVXNlcklkKSB7XHJcbiAgICAgICAgZGlzcGF0Y2goXHJcbiAgICAgICAgICBiYW5kQWN0aW9ucy5yZXF1ZXN0TW9kaWZ5QmFuZFNjb3JlKHtcclxuICAgICAgICAgICAgdGFyZ2V0QmFuZElkLFxyXG4gICAgICAgICAgICBtb2RpZnlpbmdVc2VySWQsXHJcbiAgICAgICAgICAgIG1vZGlmaWNhdGlvblZhbHVlLFxyXG4gICAgICAgICAgICB1bmRvVmFsdWUsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZXF1ZXN0RmV0Y2hCYW5kczogKG1heEJhbmRzOiBudW1iZXIsIHNvcnRCeTogQmFuZFNvcnRUeXBlcykgPT4ge1xyXG4gICAgICBkaXNwYXRjaChiYW5kQWN0aW9ucy5yZXF1ZXN0RmV0Y2hCYW5kcyh7IG1heEJhbmRzLCBzb3J0QnkgfSkpO1xyXG4gICAgfSxcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCByZWR1eENvbm5lY3RvciA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpO1xyXG50eXBlIEJpZ0JhbmRUYWJsZVByb3BzID0gQ29ubmVjdGVkUHJvcHM8dHlwZW9mIHJlZHV4Q29ubmVjdG9yPjtcclxuXHJcbnR5cGUgQmlnQmFuZFRhYmxlU3RhdGUgPSB7XHJcbiAgc29ydFR5cGU6IEJhbmRTb3J0VHlwZXM7XHJcbiAgYmFuZHNQZXJGZXRjaDogbnVtYmVyO1xyXG4gIHNob3VsZEZldGNoQmFuZHM6IGJvb2xlYW47XHJcbiAgbWF4QmFuZHNEaXNwbGF5ZWQ6IG51bWJlcjtcclxufTtcclxuXHJcbi8vIFVuY29ubmVjdGVkQmlnQmFuZFRhYmxlLnByb3BUeXBlcyA9IHtcclxuLy8gICBiYW5kczogUHJvcFR5cGVzLmFycmF5T2YoXHJcbi8vICAgICBQcm9wVHlwZXMuc2hhcGUoe1xyXG4vLyAgICAgICBfaWQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbi8vICAgICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXHJcbi8vICAgICAgIG93bmVySWQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbi8vICAgICAgIHNjb3JlOiBQcm9wVHlwZXMubnVtYmVyLFxyXG4vLyAgICAgfSlcclxuLy8gICApLFxyXG4vLyAgIHVzZXJJc0F1dGhlbnRpY2F0ZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXHJcbi8vICAgdXNlcklkOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4vLyAgIHVzZXJzTW9kaWZpY2F0aW9uczogUHJvcFR5cGVzLmFycmF5LFxyXG4vLyAgIGFkZFBvaW50c1RvOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4vLyAgIHJlcXVlc3RGZXRjaEJhbmRzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG4vLyAgIGFwcElzRmV0Y2hpbmdCYW5kczogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcclxuLy8gfTtcclxuXHJcbmNsYXNzIFVuY29ubmVjdGVkQmlnQmFuZFRhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxyXG4gIEJpZ0JhbmRUYWJsZVByb3BzLFxyXG4gIEJpZ0JhbmRUYWJsZVN0YXRlXHJcbj4ge1xyXG4gIC8vIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgLy8gICBzdXBlcihwcm9wcyk7XHJcbiAgLy8gICB0aGlzLnN0YXRlID0ge1xyXG4gIC8vICAgICBzb3J0VHlwZTogQmFuZFNvcnRUeXBlcy5NT1NUX1JFQ0VOVCxcclxuICAvLyAgICAgYmFuZHNQZXJGZXRjaDogZGVmYXVsdEJhbmRzUGVyRmV0Y2gsXHJcbiAgLy8gICAgIHNob3VsZEZldGNoQmFuZHM6IGZhbHNlLFxyXG4gIC8vICAgICBtYXhCYW5kc0Rpc3BsYXllZDogZGVmYXVsdEJhbmRzUGVyRmV0Y2gsXHJcbiAgLy8gICB9O1xyXG4gIC8vIH1cclxuICBzdGF0ZSA9IHtcclxuICAgIHNvcnRUeXBlOiBCYW5kU29ydFR5cGVzLk1PU1RfUkVDRU5ULFxyXG4gICAgYmFuZHNQZXJGZXRjaDogZGVmYXVsdEJhbmRzUGVyRmV0Y2gsXHJcbiAgICBzaG91bGRGZXRjaEJhbmRzOiBmYWxzZSxcclxuICAgIG1heEJhbmRzRGlzcGxheWVkOiBkZWZhdWx0QmFuZHNQZXJGZXRjaCxcclxuICB9O1xyXG5cclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHRoaXMucHJvcHMucmVxdWVzdEZldGNoQmFuZHModGhpcy5zdGF0ZS5iYW5kc1BlckZldGNoLCB0aGlzLnN0YXRlLnNvcnRUeXBlKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZShcclxuICAgIHByZXZQcm9wczogQmlnQmFuZFRhYmxlUHJvcHMsXHJcbiAgICBwcmV2U3RhdGU6IEJpZ0JhbmRUYWJsZVN0YXRlXHJcbiAgKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInRoaXMuc3RhdGUubWF4QmFuZHNEaXNwbGF5ZWQ6IFwiLCB0aGlzLnN0YXRlLm1heEJhbmRzRGlzcGxheWVkKTtcclxuICAgIGNvbnNvbGUubG9nKFwicHJldlN0YXRlLm1heEJhbmRzRGlzcGxheWVkOiBcIiwgcHJldlN0YXRlLm1heEJhbmRzRGlzcGxheWVkKTtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5zdGF0ZS5tYXhCYW5kc0Rpc3BsYXllZCA+IHByZXZTdGF0ZS5tYXhCYW5kc0Rpc3BsYXllZCB8fFxyXG4gICAgICB0aGlzLnN0YXRlLnNob3VsZEZldGNoQmFuZHNcclxuICAgICkge1xyXG4gICAgICB0aGlzLnByb3BzLnJlcXVlc3RGZXRjaEJhbmRzKFxyXG4gICAgICAgIHRoaXMuc3RhdGUubWF4QmFuZHNEaXNwbGF5ZWQsXHJcbiAgICAgICAgdGhpcy5zdGF0ZS5zb3J0VHlwZVxyXG4gICAgICApO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2hvdWxkRmV0Y2hCYW5kczogZmFsc2UgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuc3RhdGUuc29ydFR5cGUgIT09IHByZXZTdGF0ZS5zb3J0VHlwZSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBtYXhCYW5kc0Rpc3BsYXllZDogdGhpcy5zdGF0ZS5iYW5kc1BlckZldGNoLFxyXG4gICAgICAgIHNob3VsZEZldGNoQmFuZHM6IHRydWUsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0U29ydFR5cGUobmV3VHlwZTogQmFuZFNvcnRUeXBlcykge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNvcnRUeXBlOiBuZXdUeXBlIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogVGhpcyBvbmx5IHdvcmtzIGFmdGVyIHRoZSBzZWNvbmQgcHVzaCwgdmVyeSBzdHJhbmdlXHJcbiAgbG9hZE1vcmUoKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKChzdGF0ZSkgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG1heEJhbmRzRGlzcGxheWVkOiBzdGF0ZS5tYXhCYW5kc0Rpc3BsYXllZCArIHN0YXRlLmJhbmRzUGVyRmV0Y2gsXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIC8vIHRoaXMucHJvcHMucmVxdWVzdEZldGNoQmFuZHMoXHJcbiAgICAvLyAgIHRoaXMuc3RhdGUubWF4QmFuZHNEaXNwbGF5ZWQsXHJcbiAgICAvLyAgIHRoaXMuc3RhdGUuc29ydFR5cGVcclxuICAgIC8vICk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VyTW9kaWZpY2F0aW9uVG9CYW5kKHRoaXNCYW5kSWQ6IE1vbmdvb3NlVHlwZXMuT2JqZWN0SWQpIHtcclxuICAgIGNvbnN0IG1vZGlmaWNhdGlvbiA9IHRoaXMucHJvcHMudXNlcnNNb2RpZmljYXRpb25zLmZpbmQoXHJcbiAgICAgIChtb2RpZmljYXRpb24pID0+IG1vZGlmaWNhdGlvbi50YXJnZXRCYW5kSWQgPT09IHRoaXNCYW5kSWRcclxuICAgICk7XHJcbiAgICBpZiAobW9kaWZpY2F0aW9uKSByZXR1cm4gbW9kaWZpY2F0aW9uLnZhbHVlO1xyXG4gICAgZWxzZSByZXR1cm4gMDtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIC8vIFRPRE86IFNob3VsZCB3ZSBoYXZlIHNvbWUgbm90aWZpY2F0aW9uIHRoYXQgYmFuZHMgYXJlIGJlaW5nIGZldGNoZWQ/XHJcbiAgICBjb25zdCBkZXNpcmVkQmFuZHMgPSBzb3J0QW5kTGltaXRCYW5kcyhcclxuICAgICAgdGhpcy5wcm9wcy5iYW5kcyxcclxuICAgICAgdGhpcy5zdGF0ZS5zb3J0VHlwZSxcclxuICAgICAgdGhpcy5zdGF0ZS5tYXhCYW5kc0Rpc3BsYXllZFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBzb3J0UmFkaW9zID0gW1xyXG4gICAgICB7IHZhbHVlOiBCYW5kU29ydFR5cGVzLkJFU1QsIG5hbWU6IFwiQmVzdFwiIH0sXHJcbiAgICAgIHsgdmFsdWU6IEJhbmRTb3J0VHlwZXMuV09SU1QsIG5hbWU6IFwiV29yc3RcIiB9LFxyXG4gICAgICB7IHZhbHVlOiBCYW5kU29ydFR5cGVzLk1PU1RfUkVDRU5ULCBuYW1lOiBcIk1vc3QgUmVjZW50XCIgfSxcclxuICAgIF07XHJcblxyXG4gICAgY29uc3QgeyB1c2VySXNBdXRoZW50aWNhdGVkIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxDYXJkPlxyXG4gICAgICAgIDxDYXJkLkhlYWRlcj5cclxuICAgICAgICAgIDxCdXR0b25Hcm91cCB0b2dnbGU+XHJcbiAgICAgICAgICAgIHtzb3J0UmFkaW9zLm1hcCgocmFkaW8sIGlkeCkgPT4gKFxyXG4gICAgICAgICAgICAgIDxUb2dnbGVCdXR0b25cclxuICAgICAgICAgICAgICAgIGtleT17aWR4fVxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtyYWRpby52YWx1ZX1cclxuICAgICAgICAgICAgICAgIG5hbWU9XCJzb3J0UmFkaW9cIlxyXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17cmFkaW8udmFsdWUgPT09IHRoaXMuc3RhdGUuc29ydFR5cGV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGU6IFN5bnRoZXRpY0V2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgLy8gVE9ETzogRmlndXJlIG91dCB3aGF0J3MgZ29pbmcgb24gd2l0aCB0aGlzIHR5cGUgY2FzdGluZ1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0IGFzIHR5cGVvZiBlLmN1cnJlbnRUYXJnZXQgJiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjdXJyZW50VGFyZ2V0XCIsIGN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBzb3J0VHlwZUFzTnVtYmVyOiBudW1iZXIgPSBwYXJzZUludChcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0LnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic29ydFR5cGVBc051bWJlclwiLCBzb3J0VHlwZUFzTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTb3J0VHlwZShzb3J0VHlwZUFzTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3JhZGlvLm5hbWV9XHJcbiAgICAgICAgICAgICAgPC9Ub2dnbGVCdXR0b24+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9CdXR0b25Hcm91cD5cclxuICAgICAgICA8L0NhcmQuSGVhZGVyPlxyXG4gICAgICAgIDxDYXJkLkJvZHk+XHJcbiAgICAgICAgICA8VGFibGUgc2l6ZT1cInNtXCIgc3RyaXBlZCBib3JkZXJlZD5cclxuICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgIHtkZXNpcmVkQmFuZHMubWFwKChiYW5kKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8dHIga2V5PXtTdHJpbmcoYmFuZC5faWQpfT5cclxuICAgICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxCYW5kTW9kQnV0dG9uR3JvdXBcclxuICAgICAgICAgICAgICAgICAgICAgIHVzZXJJc0F1dGhvcml6ZWQ9e3VzZXJJc0F1dGhlbnRpY2F0ZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICBtb2RQZXJmb3JtZWQ9e3RoaXMuZ2V0VXNlck1vZGlmaWNhdGlvblRvQmFuZChiYW5kLl9pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICBtb2RpZnlCYW5kPXsobW9kVmFsdWUsIHVuZG9WYWx1ZSkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hZGRQb2ludHNUbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYW5kLl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnVzZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRvVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjb3JlPXtiYW5kLnNjb3JlfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+e1wiIFwifVxyXG4gICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwic2Vjb25kYXJ5XCI+e2JhbmQuc2NvcmV9PC9CYWRnZT4ge2JhbmQubmFtZX17XCIgXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcImZvbnQtd2VpZ2h0LWxpZ2h0ZXJcIn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICBmcm9tICA8TGluayB0bz17Y3JlYXRlVXNlclByb2ZpbGVVcmwoU3RyaW5nKGJhbmQub3duZXJJZCkpfT57YmFuZC5vd25lck5hbWV9PC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICA8L1RhYmxlPlxyXG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwic2Vjb25kYXJ5XCIgYmxvY2sgb25DbGljaz17KCkgPT4gdGhpcy5sb2FkTW9yZSgpfT5cclxuICAgICAgICAgICAgU2hvdyBtZSBtb3JlLi4uXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8L0NhcmQuQm9keT5cclxuICAgICAgPC9DYXJkPlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBCaWdCYW5kVGFibGUgPSBjb25uZWN0KFxyXG4gIG1hcFN0YXRlVG9Qcm9wcyxcclxuICBtYXBEaXNwYXRjaFRvUHJvcHNcclxuKShVbmNvbm5lY3RlZEJpZ0JhbmRUYWJsZSk7XHJcbiIsImltcG9ydCB7IGNyZWF0ZVNsaWNlLCBQYXlsb2FkQWN0aW9uIH0gZnJvbSBcIkByZWR1eGpzL3Rvb2xraXRcIjtcclxuaW1wb3J0IHsgVXNlclJlY29yZFNvcnRUeXBlcyB9IGZyb20gXCIuLi9zdGF0dXNlc1wiO1xyXG5pbXBvcnQgeyBUeXBlcyBhcyBNb25nb29zZVR5cGVzIH0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5leHBvcnQgdHlwZSBVc2VyUmVjb3JkID0ge1xyXG4gIGlkOiBNb25nb29zZVR5cGVzLk9iamVjdElkO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICB0b3RhbFNjb3JlOiBudW1iZXI7XHJcbiAgbmFtZXNDb250cmlidXRlZDogbnVtYmVyO1xyXG4gIGF2ZXJhZ2VTY29yZTogbnVtYmVyO1xyXG59O1xyXG5cclxudHlwZSBVc2VyUmVjb3Jkc1NsaWNlU3RhdGUgPSB7XHJcbiAgcGVuZGluZ0ZldGNoZXM6IG51bWJlcjtcclxuICBpdGVtczogVXNlclJlY29yZFtdO1xyXG59O1xyXG5cclxuY29uc3QgaW5pdGlhbFN0YXRlOiBVc2VyUmVjb3Jkc1NsaWNlU3RhdGUgPSB7XHJcbiAgcGVuZGluZ0ZldGNoZXM6IDAsXHJcbiAgaXRlbXM6IFtdLFxyXG59O1xyXG5cclxuY29uc3QgdXNlclJlY29yZHNTbGljZSA9IGNyZWF0ZVNsaWNlKHtcclxuICBuYW1lOiBcInVzZXJSZWNvcmRzXCIsXHJcbiAgaW5pdGlhbFN0YXRlLFxyXG4gIHJlZHVjZXJzOiB7XHJcbiAgICByZXF1ZXN0RmV0Y2hVc2VyUmVjb3JkcyhcclxuICAgICAgc3RhdGUsXHJcbiAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjx7XHJcbiAgICAgICAgbnVtT2ZSZWNvcmRzOiBudW1iZXI7XHJcbiAgICAgICAgc29ydFR5cGU6IFVzZXJSZWNvcmRTb3J0VHlwZXM7XHJcbiAgICAgIH0+XHJcbiAgICApIHtcclxuICAgICAgc3RhdGUucGVuZGluZ0ZldGNoZXMrKztcclxuICAgIH0sXHJcbiAgICBmZXRjaFVzZXJSZWNvcmRzU3VjY2VzcyhcclxuICAgICAgc3RhdGUsXHJcbiAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxVc2VyUmVjb3JkW10+XHJcbiAgICApIHtcclxuICAgICAgYWN0aW9uLnBheWxvYWQuZm9yRWFjaCgobmV3UmVjb3JkKSA9PiB7XHJcbiAgICAgICAgaWYgKCFzdGF0ZS5pdGVtcy5zb21lKChyZWNvcmQpID0+IHJlY29yZC5pZCA9PSBuZXdSZWNvcmQuaWQpKVxyXG4gICAgICAgICAgc3RhdGUuaXRlbXMucHVzaChuZXdSZWNvcmQpO1xyXG4gICAgICB9KTtcclxuICAgICAgc3RhdGUucGVuZGluZ0ZldGNoZXMtLTtcclxuICAgIH0sXHJcbiAgICBmZXRjaFVzZXJSZWNvcmRzRmFpbHVyZShzdGF0ZSkge1xyXG4gICAgICBzdGF0ZS5wZW5kaW5nRmV0Y2hlcy0tO1xyXG4gICAgfVxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVzZXJSZWNvcmRzQWN0aW9ucyA9IHVzZXJSZWNvcmRzU2xpY2UuYWN0aW9ucztcclxuZXhwb3J0IGRlZmF1bHQgdXNlclJlY29yZHNTbGljZS5yZWR1Y2VyOyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgY29ubmVjdCwgQ29ubmVjdGVkUHJvcHMgfSBmcm9tIFwicmVhY3QtcmVkdXhcIjtcclxuaW1wb3J0IHsgVXNlclJlY29yZFNvcnRUeXBlcyB9IGZyb20gXCIuLi9zdG9yZS9zdGF0dXNlc1wiO1xyXG5pbXBvcnQge1xyXG4gIHVzZXJSZWNvcmRzQWN0aW9ucyxcclxuICBVc2VyUmVjb3JkLFxyXG59IGZyb20gXCIuLi9zdG9yZS9zbGljZXMvdXNlci1yZWNvcmRzLXNsaWNlXCI7XHJcbmltcG9ydCB7IFJvb3RTdGF0ZSB9IGZyb20gXCIuLi9zdG9yZS9cIjtcclxuaW1wb3J0IHsgc29ydEFuZExpbWl0VXNlclJlY29yZHMgfSBmcm9tIFwiLi91dGlsaXR5L2xpbWl0LXNvcnQtdXNlci1yZWNvcmRzXCI7XHJcbmltcG9ydCBUYWJsZSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL1RhYmxlXCI7XHJcbmltcG9ydCBCYWRnZSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwL0JhZGdlXCI7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVVc2VyUHJvZmlsZVVybCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3V0aWxpdHkvY3JlYXRlLXVzZXItcHJvZmlsZS11cmxcIlxyXG5cclxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlOiBSb290U3RhdGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgYXBwSXNGZXRjaGluZ1JlY29yZHM6IHN0YXRlLnVzZXJSZWNvcmRzLnBlbmRpbmdGZXRjaGVzID4gMCxcclxuICAgIHJlY29yZHM6IFsuLi5zdGF0ZS51c2VyUmVjb3Jkcy5pdGVtc10sXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlcXVlc3RVc2VyUmVjb3JkczogKFxyXG4gICAgICBudW1PZlJlY29yZHM6IG51bWJlcixcclxuICAgICAgc29ydFR5cGU6IFVzZXJSZWNvcmRTb3J0VHlwZXNcclxuICAgICkgPT4ge1xyXG4gICAgICBkaXNwYXRjaChcclxuICAgICAgICB1c2VyUmVjb3Jkc0FjdGlvbnMucmVxdWVzdEZldGNoVXNlclJlY29yZHMoeyBudW1PZlJlY29yZHMsIHNvcnRUeXBlIH0pXHJcbiAgICAgICk7XHJcbiAgICB9LFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIExpc3RFbnRyeUJhZGdlKHByb3BzOiB7XHJcbiAgc29ydFR5cGU6IFVzZXJSZWNvcmRTb3J0VHlwZXM7XHJcbiAgcmVjb3JkOiBVc2VyUmVjb3JkO1xyXG59KSB7XHJcbiAgc3dpdGNoIChwcm9wcy5zb3J0VHlwZSkge1xyXG4gICAgY2FzZSBVc2VyUmVjb3JkU29ydFR5cGVzLkhJR0hFU1RfQVZFUkFHRV9TQ09SRTpcclxuICAgICAgcmV0dXJuIDxCYWRnZSB2YXJpYW50PVwic2Vjb25kYXJ5XCI+e3Byb3BzLnJlY29yZC5hdmVyYWdlU2NvcmUudG9GaXhlZCgyKX08L0JhZGdlPjtcclxuICAgIGNhc2UgVXNlclJlY29yZFNvcnRUeXBlcy5ISUdIRVNUX1NDT1JFOlxyXG4gICAgICByZXR1cm4gPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIj57cHJvcHMucmVjb3JkLnRvdGFsU2NvcmV9PC9CYWRnZT47XHJcbiAgICBjYXNlIFVzZXJSZWNvcmRTb3J0VHlwZXMuTU9TVF9OQU1FU19DT05UUklCVVRFRDpcclxuICAgICAgcmV0dXJuIDxCYWRnZSB2YXJpYW50PVwic2Vjb25kYXJ5XCI+e3Byb3BzLnJlY29yZC5uYW1lc0NvbnRyaWJ1dGVkfTwvQmFkZ2U+O1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIDxCYWRnZSB2YXJpYW50PVwic2Vjb25kYXJ5XCI+PzwvQmFkZ2U+O1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgcmVkdXhDb25uZWN0b3IgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKTtcclxudHlwZSBVc2VyUmVjb3Jkc0xpc3RQcm9wcyA9IENvbm5lY3RlZFByb3BzPHR5cGVvZiByZWR1eENvbm5lY3Rvcj4gJiB7XHJcbiAgbWF4UmVjb3JkczogbnVtYmVyO1xyXG4gIHNvcnRUeXBlOiBVc2VyUmVjb3JkU29ydFR5cGVzO1xyXG59O1xyXG5cclxuY2xhc3MgVW5jb25uZWN0ZWRVc2VyUmVjb3Jkc0xpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8VXNlclJlY29yZHNMaXN0UHJvcHM+IHtcclxuICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgIHRoaXMucHJvcHMucmVxdWVzdFVzZXJSZWNvcmRzKHRoaXMucHJvcHMubWF4UmVjb3JkcywgdGhpcy5wcm9wcy5zb3J0VHlwZSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy5hcHBJc0ZldGNoaW5nUmVjb3Jkcykge1xyXG4gICAgICByZXR1cm4gPGRpdj5Mb2FkaW5nIHVzZXIgcmVjb3Jkcy4uLjwvZGl2PjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZXNpcmVkUmVjb3JkcyA9IHNvcnRBbmRMaW1pdFVzZXJSZWNvcmRzKFxyXG4gICAgICB0aGlzLnByb3BzLnJlY29yZHMsXHJcbiAgICAgIHRoaXMucHJvcHMuc29ydFR5cGUsXHJcbiAgICAgIHRoaXMucHJvcHMubWF4UmVjb3Jkc1xyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8VGFibGUgc2l6ZT1cInNtXCIgc3RyaXBlZCBib3JkZXJlZD5cclxuICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICB7ZGVzaXJlZFJlY29yZHMubWFwKChyZWNvcmQsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgIDx0ciBrZXk9e1N0cmluZyhyZWNvcmQuaWQpfT5cclxuICAgICAgICAgICAgICA8dGQ+e2luZGV4ICsgMX08L3RkPlxyXG4gICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtjcmVhdGVVc2VyUHJvZmlsZVVybChTdHJpbmcocmVjb3JkLmlkKSl9PntyZWNvcmQubmFtZX08L0xpbms+e1wiIFwifVxyXG4gICAgICAgICAgICAgICAgPExpc3RFbnRyeUJhZGdlXHJcbiAgICAgICAgICAgICAgICAgIHNvcnRUeXBlPXt0aGlzLnByb3BzLnNvcnRUeXBlfVxyXG4gICAgICAgICAgICAgICAgICByZWNvcmQ9e3JlY29yZH1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICkpfVxyXG4gICAgICAgIDwvdGJvZHk+XHJcbiAgICAgIDwvVGFibGU+XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFVzZXJSZWNvcmRzTGlzdCA9IGNvbm5lY3QoXHJcbiAgbWFwU3RhdGVUb1Byb3BzLFxyXG4gIG1hcERpc3BhdGNoVG9Qcm9wc1xyXG4pKFVuY29ubmVjdGVkVXNlclJlY29yZHNMaXN0KTtcclxuIiwiZXhwb3J0IHsgYmFuZENyZWF0aW9uU2FnYSB9IGZyb20gXCIuL2JhbmQtY3JlYXRpb24tc2FnYVwiO1xyXG5leHBvcnQgeyBiYW5kU2NvcmVNb2RpZmljYXRpb25TYWdhIH0gZnJvbSBcIi4vYmFuZC1zY29yZS1tb2RpZmljYXRpb24tc2FnYVwiO1xyXG5leHBvcnQgeyB1c2VyQXV0aGVudGljYXRpb25TYWdhIH0gZnJvbSBcIi4vdXNlci1hdXRoZW50aWNhdGlvbi1zYWdhXCI7XHJcbmV4cG9ydCB7IHVzZXJDcmVhdGlvblNhZ2EgfSBmcm9tIFwiLi91c2VyLWNyZWF0aW9uLXNhZ2FcIjtcclxuZXhwb3J0IHsgd2F0Y2hGZXRjaEJhbmRzU2FnYSB9IGZyb20gXCIuL3dhdGNoLWZldGNoLWJhbmRzLXNhZ2FcIjtcclxuZXhwb3J0IHsgd2F0Y2hGZXRjaFVzZXJSZWNvcmRzU2FnYSB9IGZyb20gXCIuL2ZldGNoLXVzZXItcmVjb3Jkcy1zYWdhXCI7XHJcbmV4cG9ydCB7IGZldGNoUHJvZmlsZVNhZ2EgfSBmcm9tIFwiLi9mZXRjaC11c2VyLXByb2ZpbGUtc2FnYVwiO1xyXG4iLCJpbXBvcnQgeyBCYW5kU29ydFR5cGVzIH0gZnJvbSBcIi4uLy4uL3N0b3JlL3N0YXR1c2VzXCI7XHJcbmltcG9ydCB7IEJhbmRDbGFzcyB9IGZyb20gXCIuLi8uLi8uLi9zZXJ2ZXIvbW9kZWxzL2JhbmQtbW9kZWxcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzb3J0QW5kTGltaXRCYW5kcyhcclxuICBiYW5kczogQmFuZENsYXNzW10sXHJcbiAgc29ydEJ5OiBCYW5kU29ydFR5cGVzLFxyXG4gIGxpbWl0OiBudW1iZXJcclxuKTogQmFuZENsYXNzW10ge1xyXG4gIGxldCBmaWx0ZXJlZEJhbmRzID0gWy4uLmJhbmRzXTtcclxuXHJcbiAgc3dpdGNoIChzb3J0QnkpIHtcclxuICAgIGNhc2UgQmFuZFNvcnRUeXBlcy5CRVNUOlxyXG4gICAgICBmaWx0ZXJlZEJhbmRzLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEJhbmRTb3J0VHlwZXMuTU9TVF9SRUNFTlQ6XHJcbiAgICAgIGZpbHRlcmVkQmFuZHMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgIC8vIFRPRE86IFdoYXQgaXMgaGFwcGVuaW5nIGhlcmU/XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHJldHVybiBEYXRlLnBhcnNlKGIuY3JlYXRlZE9uKSAtIERhdGUucGFyc2UoYS5jcmVhdGVkT24pO1xyXG4gICAgICB9KTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEJhbmRTb3J0VHlwZXMuV09SU1Q6XHJcbiAgICAgIGZpbHRlcmVkQmFuZHMuc29ydCgoYSwgYikgPT4gYS5zY29yZSAtIGIuc2NvcmUpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuXHJcbiAgZmlsdGVyZWRCYW5kcyA9IGZpbHRlcmVkQmFuZHMuc2xpY2UoMCwgbGltaXQpO1xyXG4gIHJldHVybiBmaWx0ZXJlZEJhbmRzO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=